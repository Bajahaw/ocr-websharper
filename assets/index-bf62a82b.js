var an=Object.defineProperty;var fn=(e,t,n)=>t in e?an(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var u=(e,t,n)=>(fn(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function K(e,t){return Object.assign(Object.create(e.prototype),t)}const dn=Symbol("force");function B(e){var t;function n(){return t||(t=e(s=>t=s)),t}return new Proxy(Function(),{get(s,l){return l==dn&&n(),n()[l]},set(s,l,i){return n()[l]=i,!0},construct(s,l,i){return Reflect.construct(n(),l,i)}})}function Nt(e){return e===void 0?null:{$:1,$0:e}}function Ct(e,t,n){n?e[t]=n.$0:delete e[t]}let yt=[];function hn(e){yt.push(e)}function pn(){for(var e=0;e<yt.length;e++)yt[e]();yt=[]}function V(e){return"Dispose"in e}function wn(){mn()}function mn(){const e=$n(X.Create_1(null),X.Create_1(null),X.Create_1(!1),X.Create_1(null),X.Create_1(!1)),t="file-input";w.Element("h1",[O("mb-4 text-center")],[w.TextNode("AI Image OCR")]);const n=w.Element("input",[x.Create("id",t),x.Create("type","file"),x.Create("accept","image/*"),x.Create("style","display: none;")],[]),r=w.Element("div",[O("container mt-4")],[w.Element("h1",[O("mb-4 text-center")],[w.TextNode("AI Image OCR")]),n,w.Element("div",[x.Create("id","drop-zone"),bn("drag-over",e.IsDragOver.View),x.HandlerImpl("click",()=>()=>globalThis.document.getElementById(t).click()),x.HandlerImpl("dragover",()=>s=>(s.preventDefault(),e.IsDragOver.Set(!0))),x.HandlerImpl("dragleave",()=>s=>(s.preventDefault(),e.IsDragOver.Set(!1)))],[w.Element("p",[O("lead")],[w.TextNode("Drop image here, paste, or click to upload")]),w.Element("i",[O("fs-3 text-muted")],[w.TextNode("(PNG, JPG, GIF, etc.)")])]),w.Element("div",[O("text-center mt-3"),yn("display",W(s=>s?"block":"none",e.IsLoading.View))],[w.Element("div",[O("spinner-border text-primary")],[w.Element("span",[O("visually-hidden")],[w.TextNode("Loading...")])])]),w.BindView(s=>s==null?w.Empty:w.Element("div",[O("alert alert-danger mt-3")],[w.TextNode(s.$0)]),e.ErrorMessage.View),w.BindView(s=>s==null?w.Empty:w.Element("div",[O("text-center mt-3")],[w.Element("img",[x.Create("id","hello")],[])]),e.ImagePreviewUrl.View),w.BindView(s=>s==null?w.Empty:w.Element("div",[O("mt-4")],[w.Element("h4",[],[w.TextNode("OCR Result:")]),w.Element("pre",[x.Create("id","ocr-result-text")],[w.TextNode(s.$0)])]),e.OcrResult.View)]);or(""),w.RunById("main",r)}function $n(e,t,n,r,s){return{ImagePreviewUrl:e,OcrResult:t,IsLoading:n,ErrorMessage:r,IsDragOver:s}}class R{Equals(t){return this===t}GetHashCode(){return-1}}let X=B(e=>{var t;return t=class extends R{static Create_1(r){return new Tn(!1,{s:Gt(r,[])},r)}},X=e(t),t});function Z(e){throw new Error(e)}function tt(e){return[e.K,e.V]}function de(e,t){const n=1+t-e;return n<=0?[]:Br(n,r=>r+e)}class gn extends R{}function g(e){return{$:1,$0:e}}function O(e){return Nn(e,!0)}function bn(e,t){return Te(t,n=>r=>r?Se(n,e):De(n,e))}function yn(e,t){return Te(t,n=>r=>n.style.setProperty(e,r))}function Nn(e,t){return Bt(n=>{t?Se(n,e):De(n,e)})}function Cn(e){let t=[];for(var n in e)t.push(e[n]);return t}function W(e,t){return Jt(()=>xn(e,t()))}function Jt(e){const t={c:null,o:e};return()=>{let n=t.c;if(n===null){n=t.o(),t.c=n;const r=n.s;return r!=null&&r.$==0?t.o=null:ve(n,()=>{t.c=null}),n}else return n}}function Mt(e){const t={s:Lt(e)};return()=>t}function vn(e,t){return An(W(e,t))}function An(e){return Jt(()=>kn(e()))}function En(e,t){function n(){Sn(t(),e,()=>{rt().Fork(n)})}rt().Fork(n)}function Qt(e,t){return Jt(()=>In(e(),t()))}class w extends R{constructor(n,r){super();u(this,"docNode");u(this,"updates");this.docNode=n,this.updates=r}static get Empty(){return w.Mk(null,Mt())}static TextNode(n){return w.Mk(pr(globalThis.document.createTextNode(n)),Mt())}static BindView(n,r){return w.EmbedView(W(n,r))}static Mk(n,r){return new w(n,r)}static RunById(n,r){const s=globalThis.document.getElementById(n);b(s,null)?Z("invalid id: "+n):w.Run(s,r)}static Element(n,r,s){const l=x.Concat(r),i=w.Concat(s);return le.New(globalThis.document.createElement(n),l,i)}static EmbedView(n){const r=kr();return w.Mk(wr(r),W(()=>{},vn(s=>(Sr(r,s.docNode),s.updates),n)))}static Run(n,r){Re(n,r.docNode),w.RunInPlace(!1,n,r)}static Concat(n){return ie(w.Empty,w.Append,mt(n))}static RunInPlace(n,r,s){const l=Dr(r,s.docNode);En(ze()||_e()?bs(Ir(n,l,s.docNode)):()=>{Gr(n,l,s.docNode)},s.updates)}static Append(n,r){return w.Mk($r(n.docNode,r.docNode),Qt(n.updates,r.updates))}}class Tn extends gn{constructor(n,r,s){super();u(this,"isConst");u(this,"current");u(this,"snap");u(this,"view");u(this,"id");this.isConst=n,this.current=s,this.snap=r,this.view=()=>this.snap,this.id=Fe()}get View(){return this.view}Set(n){this.isConst?(r=>r("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(r=>{console.log(r)}):(Ot(this.snap),this.current=n,this.snap={s:Gt(n,[])})}Get(){return this.current}UpdateMaybe(n){const r=n(this.Get());r!=null&&r.$==1&&this.Set(r.$0)}}function xn(e,t){const n=t.s;if(n!=null&&n.$==0)return{s:Lt(e(n.$0))};{const r={s:Ft([],[])};return nt(t,s=>{Ae(r,t,e(s))},r),r}}function ve(e,t){const n=e.s;n==null?t():(n!=null&&n.$==2||n!=null&&n.$==3)&&n.$1.push(t)}function nt(e,t,n){const r=e.s;r==null?Ot(n):r!=null&&r.$==2?(vt(r.$1,n),t(r.$0)):r!=null&&r.$==3?(r.$0.push(t),vt(r.$1,n)):t(r.$0)}function Ae(e,t,n){const r=t.s;r!=null&&r.$==0?zt(e,n):_t(e,n)}function vt(e,t){if(e.push(t),e.length%20===0){const n=e.slice(0);ys(e);for(let r=0,s=C(n)-1;r<=s;r++){const l=v(n,r);typeof l=="object"?(i=>{i.s&&e.push(i)})(l):(i=>{e.push(i)})(l)}}}function zt(e,t){const n=e.s;if(n!=null&&n.$==3){e.s=Lt(t);const r=n.$0;for(let s=0,l=C(r)-1;s<=l;s++)v(r,s)(t)}}function _t(e,t){const n=e.s;if(n!=null&&n.$==3){e.s=Gt(t,n.$1);const r=n.$0;for(let s=0,l=C(r)-1;s<=l;s++)v(r,s)(t)}}function kn(e){const t={s:Ft([],[])};return nt(e,n=>{const r=n();nt(r,s=>{let l;const i=r.s;if(i!=null&&i.$==0){const o=e.s;l=o!=null&&o.$==0}else l=!1;l?zt(t,s):_t(t,s)},t)},t),t}function Sn(e,t,n){const r=e.s;r==null?n():r!=null&&r.$==2?(r.$1.push(n),t(r.$0)):r!=null&&r.$==3?(r.$0.push(t),r.$1.push(n)):t(r.$0)}function Dn(e){const t=e.s;if(t==null)return e;if(t!=null&&t.$==2){const n={s:Gt(t.$0,[])};return Gn(e,n),n}else if(t!=null&&t.$==3){const n={s:Ft([],[])};return nt(e,r=>{Ae(n,e,r)},n),n}else return e}function In(e,t){const n=e.s,r=t.s;if(n!=null&&n.$==0)return r!=null&&r.$==0?{s:Lt(null)}:t;if(r!=null&&r.$==0)return e;{const s={s:Ft([],[])},l=()=>{const i=s.s;if(!(i!=null&&i.$==0||i!=null&&i.$==2)){const o=he(e),a=he(t);o!=null&&o.$==1&&a!=null&&a.$==1&&(o.$0[1]&&a.$0[1]?zt(s,null):_t(s,null))}};return nt(e,l,s),nt(t,l,s),s}}function Gn(e,t){const n=e.s;n==null?Ot(t):(n!=null&&n.$==2||n!=null&&n.$==3)&&vt(n.$1,t)}function he(e){const t=e.s;return t!=null&&t.$==0?g([t.$0,!0]):t!=null&&t.$==2?g([t.$0,!1]):null}function Yt(e){return t=>{try{e()(t)}catch(n){t.k(ee(n))}}}function Pt(){return Ut.Zero}function It(e){return t=>{t.k(ne(e))}}function ut(e,t){return Fn(n=>{e(Ue(r=>{if(r.$==0){const s=r.$0;rt().Fork(()=>{try{t(s)(n)}catch(l){n.k(ee(l))}})}else rt().Fork(()=>{n.k(r)})},n.ct))})}function Ln(e,t){const n=Un()[0],r=t==null?n:t.$0;rt().Fork(()=>{r.c||e(Ue(s=>{s.$==1&&Zn(s.$0)},r))})}function rt(){return Ut.scheduler}function Fn(e){return t=>{t.ct.c?On(t):e(t)}}function Un(){return Ut.defCTS}function Zn(e){console.log("WebSharper: Uncaught asynchronous exception",e)}function Ee(e){return t=>{const n=[!1],r=s=>{n[0]?Z("A continuation provided by Async.FromContinuations was invoked multiple times"):(n[0]=!0,rt().Fork(s))};e(s=>{r(()=>{t.k(ne(s))})},s=>{r(()=>{t.k(ee(s))})},s=>{r(()=>{t.k(Ze(s))})})}}function On(e){e.k(Ze(new _r("New",e.ct)))}function jt(e,t){return e.substring(0,t.length)==t}function At(e,t){return kt(t).join(e)}function z(e,t,n){return Rn(e,new RegExp("["+Vn(t.join(""))+"]"),n)}function Rn(e,t,n){return n===1?$t(r=>r!=="",pe(e,t)):pe(e,t)}function Vn(e){return e.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function pe(e,t){return e.split(t)}function qn(e,t){return Jr(e,Mn(t))}function Mn(e){return e??""}class x{static Create(t,n){return Bt(r=>{r.setAttribute(t,n)})}static HandlerImpl(t,n){return Bt(r=>{r.addEventListener(t,s=>n(r)(s),!1)})}static A1(t){return K(x,{$:1,$0:t})}static Concat(t){const n=mt(t);return ie(xe(),x.Append,n)}static A3(t){return K(x,{$:3,$0:t})}static Append(t,n){return jn(t,n)}static A2(t,n){return K(x,{$:2,$0:t,$1:n})}}function Te(e,t){return x.A1(new gr(e,t))}function Bt(e){return x.A3(e)}function Pn(e){return Yr(t=>t.NChanged,Mt(),Qt,e.DynNodes)}function jn(e,t){if(e===null)return t;if(t===null)return e;{const n=x.A2(e,t);return Hn(n,Ht(e)|Ht(t)),n}}function xe(){return k.EmptyAttr}function Bn(e,t){const n=[],r=[];function s(o){for(;;)if(o!==null){if(o!=null&&o.$==1)return n.push(o.$0);if(o!=null&&o.$==2){const a=o.$1,$=o.$0;s($),o=a}else return o!=null&&o.$==3?o.$0(e):o!=null&&o.$==4?r.push(o.$0):null}else return null}s(t);const l=n.slice(0);return Xr(e,Ht(t),l,r.length===0?null:g(o=>{Mr(a=>{a(o)},r)}))}function Hn(e,t){e.flags=t}function Ht(e){return e!==null&&e.hasOwnProperty("flags")?e.flags:0}function Kn(e){return(e.DynFlags&2)===2}function Wn(e){return Xt(e,(t,n)=>t.NGetExitAnim(n))}function Jn(e){return(e.DynFlags&1)===1}function Qn(e){return Xt(e,(t,n)=>t.NGetEnterAnim(n))}function zn(e){return(e.DynFlags&4)===4}function _n(e){return Xt(e,(t,n)=>t.NGetChangeAnim(n))}function Xt(e,t){return Rt(lt(n=>t(n,e.DynElem),e.DynNodes))}function ke(e,t){M(n=>{n.NSync(e)},t.DynNodes)}function Se(e,t){const n=Ie(e);n==""?Kt(e,t):Ge(t).test(n)||Kt(e,n+" "+t)}function De(e,t){let n=Ge(t),r=Ie(e).replace(n,(s,l,i)=>l==""||i==""?"":" ");Kt(e,r)}function Ie(e){return e instanceof SVGElement?e.getAttribute("class"):e.className}function Kt(e,t){e instanceof SVGElement?e.setAttribute("class",t):e.className=t}function Ge(e){return new RegExp("(\\s+|^)"+e+"(?:\\s+"+e+")*(\\s+|$)","g")}function Yn(e){const t=globalThis.document.createElement("div");if(Xn().test(e)){let o=function(a,$){for(;;){if($===0)return a;{const d=$;a=a.lastChild,$=d-1}}};var n=o;const r=rr().exec(e),s=b(r,null)?"":v(r,1).toLowerCase(),l=tr()[s],i=l||er();return t.innerHTML=i[1]+e.replace(nr(),"<$1></$2>")+i[2],o(t,i[0])}else return t.appendChild(globalThis.document.createTextNode(e)),t}function Xn(){return it.rhtml}function tr(){return it.wrapMap}function er(){return it.defaultWrap}function nr(){return it.rxhtmlTag}function rr(){return it.rtagName}function sr(e,t,n){const r=e.querySelectorAll(t);for(let s=0,l=r.length-1;s<=l;s++)n(r[s])}function lr(e,t,n){let r;if(n.parentNode===e){const s=n.nextSibling;let l=b(s,null)?null:s;r=t===l}else r=!1;r||e.insertBefore(n,t)}function ir(e,t){t.parentNode===e&&e.removeChild(t)}function or(e){ur()||(cr(!0),ar(globalThis.document.body,"")),at().set_Item(e,te(""))}function ur(){return pt.LocalTemplatesLoaded}function cr(e){pt.LocalTemplatesLoaded=e}function ar(e,t){const n=te(t),r=new dt("New_5"),s=e.querySelectorAll("[ws-template]");for(let d=0,E=s.length-1;d<=E;d++){const h=s[d],m=h.getAttribute("ws-template").toLowerCase();h.removeAttribute("ws-template"),r.set_Item(m,Le(h))}const l=e.querySelectorAll("[ws-children-template]");for(let d=0,E=l.length-1;d<=E;d++){const h=l[d],m=h.getAttribute("ws-children-template").toLowerCase();h.removeAttribute("ws-children-template"),r.set_Item(m,fr(h))}const i=e.querySelectorAll("template[id]");for(let d=0,E=i.length-1;d<=E;d++){const h=i[d];r.set_Item(h.getAttribute("id").toLowerCase(),we(h))}const o=e.querySelectorAll("template[name]");for(let d=0,E=o.length-1;d<=E;d++){const h=o[d];r.set_Item(h.getAttribute("name").toLowerCase(),we(h))}const a=new q("New_3");function $(d){if(!n.ContainsKey(d)){let E;const h=(E=null,[r.TryGetValue(d,{get:()=>E,set:m=>{E=m}}),E]);h[0]?(a.SAdd(d),r.RemoveKey(d),ct(t,g(d),h[1],g($))):console.warn(a.Contains(d)?"Encountered loop when instantiating "+d:"Local template does not exist: "+d)}}for(;r.count>0;)$(Vr(r.Keys))}function at(){return pt.LoadedTemplates}function te(e){let t;const n=(t=null,[at().TryGetValue(e,{get:()=>t,set:r=>{t=r}}),t]);if(n[0])return n[1];{const r=new dt("New_5");return at().set_Item(e,r),r}}function Le(e){e.removeAttribute("ws-template");const t=e.getAttribute("ws-replace");if(t!=null){e.removeAttribute("ws-replace");const r=e.parentNode;if(!b(r,null)){const s=globalThis.document.createElement(e.tagName);s.setAttribute("ws-replace",t),r.replaceChild(s,e)}}const n=globalThis.document.createElement("div");return n.appendChild(e),n}function fr(e){const t=globalThis.document.createElement("div");for(;e.hasChildNodes();)t.appendChild(e.firstChild);return t}function we(e){const t=globalThis.document.createElement("div"),n=e.content;for(let r=0,s=n.childNodes.length-1;r<=s;r++)t.appendChild(n.childNodes[r].cloneNode(!0));return t}function ct(e,t,n,r){const s=new q("New_3");function l(h,m){for(;;)switch(h){case 0:if(m!==null){const c=m.nextSibling;b(m.nodeType,Node.TEXT_NODE)?us(m):b(m.nodeType,Node.ELEMENT_NODE)&&o(m),m=c}else return null;break;case 1:const T=et(m.nodeName,g(3),null).toLowerCase(),D=T.indexOf("."),I=D===-1?[e,T]:[et(T,null,g(D-1)),et(T,g(D+1),null)],y=I[1],A=I[0];if(A!=""&&!at().ContainsKey(A))return ye(y);{A==""&&r!=null&&r.$0(y);const c=at().Item(A);if(c.ContainsKey(y)){const f=c.Item(y).cloneNode(!0),N=new q("New_3"),L=new dt("New_5"),P=m.attributes;for(let G=0,J=P.length-1;G<=J;G++){const F=P.item(G).name.toLowerCase(),H=P.item(G).nodeValue;let Y=H==""?F:H.toLowerCase();L.set_Item(F,Y),N.SAdd(F)||console.warn("Hole mapped twice",F)}for(let G=0,J=m.childNodes.length-1;G<=J;G++){const F=m.childNodes[G];b(F.nodeType,Node.ELEMENT_NODE)&&(N.SAdd(F.nodeName.toLowerCase())||console.warn("Hole filled twice",y))}const fe=m.childNodes.length===1&&b(m.firstChild.nodeType,Node.TEXT_NODE);if(fe){const G=cs(f,m.firstChild.textContent,y),J=(H=>Y=>H.SAdd(Y))(N);(H=>Y=>{Y!=null&&H(Y.$0)})(H=>{J(H)})(G)}if(as(f,N),!fe)for(let G=0,J=m.childNodes.length-1;G<=J;G++){const F=m.childNodes[G];b(F.nodeType,Node.ELEMENT_NODE)&&(F.hasAttributes()?fs(f,F):i(f,F))}ds(f,L),Ne(f,m.parentNode,m),m.parentNode.removeChild(m);return}else return ye(y)}}}function i(h,m){const T=m.nodeName.toLowerCase(),D=(y,A)=>{if(T=="title"&&m.hasChildNodes()){const c=Yn(m.textContent);for(m.removeChild(m.firstChild);c.hasChildNodes();)m.appendChild(c.firstChild)}return o(m),Ne(m,y,A)};j(h,"[ws-attr-holes]",y=>{const A=z(y.getAttribute("ws-attr-holes"),[" "],1);for(let c=0,p=A.length-1;c<=p;c++){const f=v(A,c);let N=new RegExp("\\${"+T+"}","ig"),L=y.getAttribute(f).replace(N,m.textContent);y.setAttribute(f,L)}});const I=h.querySelector("[ws-hole="+T+"]");if(b(I,null)){const y=h.querySelector("[ws-replace="+T+"]");if(b(y,null)){const A=h.querySelector("slot[name="+T+"]");return h.tagName.toLowerCase()=="template"?(D(A.parentNode,A),void A.parentNode.removeChild(A)):null}else{D(y.parentNode,y),y.parentNode.removeChild(y);return}}else{for(;I.hasChildNodes();)I.removeChild(I.lastChild);return I.removeAttribute("ws-hole"),D(I,null)}}function o(h){h.hasAttribute("ws-preserve")||(jt(h.nodeName.toLowerCase(),"ws-")?$(h):(We(h),a(h.firstChild)))}function a(h){return l(0,h)}function $(h){return l(1,h)}function d(h){for(;;){const m=h.querySelector("[ws-template]");if(b(m,null)){const T=h.querySelector("[ws-children-template]");if(b(T,null)){const D=h.querySelectorAll("template[id]");for(let y=1,A=D.length-1;y<=A;y++){const c=D[y];s.Contains(c)||(ct(e,g(c.getAttribute("id")),c,null),s.SAdd(c))}const I=h.querySelectorAll("template[name]");for(let y=1,A=I.length-1;y<=A;y++){const c=I[y];s.Contains(c)||(ct(e,g(c.getAttribute("name")),c,null),s.SAdd(c))}return null}else{const D=T.getAttribute("ws-children-template");T.removeAttribute("ws-children-template"),ct(e,g(D),T,null),h=h}}else{const T=m.getAttribute("ws-template");dr(e,g(T),m)(null),h=h}}}const E=(t==null?"":t.$0).toLowerCase();te(e).set_Item(E,n),n.hasChildNodes()&&(d(n),a(n.firstChild))}function j(e,t,n){sr(e,t,r=>{r.closest("[ws-preserve]")==null&&n(r)})}function dr(e,t,n){const r=Le(n);return s=>{ct(e,t,r,s)}}function Et(){return pt.TextHoleRE}function Fe(){return hr(me()+1),me()}function hr(e){se.counter=e}function me(){return se.counter}function Gt(e,t){return{$:2,$0:e,$1:t}}function Lt(e){return{$:0,$0:e}}function Ft(e,t){return{$:3,$0:e,$1:t}}function Ue(e,t){return{k:e,ct:t}}function ee(e){return{$:1,$0:e}}function ne(e){return{$:0,$0:e}}function Ze(e){return{$:2,$0:e}}let Ut=B(e=>{var t;return t=class{},Ut=e(t),u(t,"GetCT"),u(t,"Zero"),u(t,"defCTS"),u(t,"scheduler"),u(t,"noneCT"),t.noneCT=Er(!1,[]),t.scheduler=new Tr,t.defCTS=[new xr],t.Zero=It(),t.GetCT=r=>{r.k(ne(r.ct))},t});function pr(e){return{$:5,$0:e}}function wr(e){return{$:2,$0:e}}function mr(e){return{$:1,$0:e}}function $r(e,t){return{$:0,$0:e,$1:t}}class gr extends R{constructor(n,r){super();u(this,"push");u(this,"value");u(this,"dirty");u(this,"updates");this.push=r,this.value=void 0,this.dirty=!1,this.updates=W(s=>{this.value=s,this.dirty=!0},n)}get NChanged(){return this.updates}NGetExitAnim(n){return Vt()}NGetEnterAnim(n){return Vt()}NGetChangeAnim(n){return Vt()}NSync(n){this.dirty&&(this.push(n)(this.value),this.dirty=!1)}}function b(e,t){if(e===t)return!0;{const s=typeof e;if(s=="object"){if(e==null||t===null||t===void 0||!b(typeof t,"object"))return!1;if("Equals"in e)return e.Equals(t);if("Equals"in t)return!1;if(e instanceof Array&&t instanceof Array)return $e(e,t);if(e instanceof Date&&t instanceof Date)return br(e,t);{const l=[!0];for(var n in e)if((i=>(l[0]=!e.hasOwnProperty(i)||t.hasOwnProperty(i)&&b(e[i],t[i]),!l[0]))(n))break;if(l[0]){for(var r in t)if((i=>(l[0]=!t.hasOwnProperty(i)||e.hasOwnProperty(i),!l[0]))(r))break}return l[0]}}else return s=="function"&&("$Func"in e?e.$Func===t.$Func&&e.$Target===t.$Target:"$Invokes"in e&&"$Invokes"in t&&$e(e.$Invokes,t.$Invokes))}}function $e(e,t){let n,r;if(C(e)===C(t)){for(n=!0,r=0;n&&r<C(e);)b(v(e,r),v(t,r))||(n=!1),r=r+1;return n}else return!1}function br(e,t){return e.getTime()===t.getTime()}function ft(e){const t=typeof e;return t=="function"?0:t=="boolean"?e?1:0:t=="number"?e:t=="string"?Oe(e):t=="object"?e==null?0:e instanceof Array?yr(e):Nr(e):0}function Oe(e){let t;if(e===null)return 0;t=5381;for(let n=0,r=e.length-1;n<=r;n++)t=Tt(t,e[n].charCodeAt());return t}function yr(e){let t=-34948909;for(let n=0,r=C(e)-1;n<=r;n++)t=Tt(t,ft(v(e,n)));return t}function Nr(e){if("GetHashCode"in e)return e.GetHashCode();{const n=[0];for(var t in e)(r=>(n[0]=Tt(Tt(n[0],Oe(r)),ft(e[r])),!1))(t);return n[0]}}function Tt(e,t){return(e<<5)+e+t}function Zt(e,t){if(e===t)return 0;{const s=typeof e;switch(s=="function"?1:s=="boolean"||s=="number"||s=="string"?2:s=="object"?3:0){case 0:return typeof t>"u"?0:-1;case 1:return Z("Cannot compare function values.");case 2:return e<t?-1:1;case 3:if(e===null)return-1;if(t===null)return 1;if("CompareTo"in e)return e.CompareTo(t);if("CompareTo0"in e)return e.CompareTo0(t);if(e instanceof Array&&t instanceof Array)return Cr(e,t);if(e instanceof Date&&t instanceof Date)return vr(e,t);{const l=[0];for(var n in e)if((i=>e.hasOwnProperty(i)?t.hasOwnProperty(i)?(l[0]=Zt(e[i],t[i]),l[0]!==0):(l[0]=1,!0):!1)(n))break;if(l[0]===0){for(var r in t)if((i=>t.hasOwnProperty(i)?!e.hasOwnProperty(i)&&(l[0]=-1,!0):!1)(r))break}return l[0]}}}}function Cr(e,t){let n,r;if(C(e)<C(t))return-1;if(C(e)>C(t))return 1;for(n=0,r=0;n===0&&r<C(e);)n=Zt(v(e,r),v(t,r)),r=r+1;return n}function vr(e,t){return Zt(e.getTime(),t.getTime())}function Ot(e){let t;const n=e.s;if(!(n==null||(!(n!=null&&n.$==2||n!=null&&n.$==3)||(t=n.$1,!1)))){e.s=null;for(let r=0,s=C(t)-1;r<=s;r++){const l=v(t,r);typeof l=="object"?(i=>{Ot(i)})(l):l()}}}class dt extends R{constructor(n,r,s,l){var t=(...args)=>{super(...args);u(this,"equals");u(this,"hash");u(this,"count");u(this,"data")};if(n=="New_5"&&(n="New_6",r=[],s=b,l=ft),n=="New_6"){const i=r,o=s,a=l;t(),this.equals=o,this.hash=a,this.count=0,this.data=[];const $=S(i);try{for(;$.MoveNext();){const d=$.Current;this.set(d.K,d.V)}}finally{typeof $=="object"&&V($)&&$.Dispose()}}}set_Item(n,r){this.set(n,r)}ContainsKey(n){const r=this.data[this.hash(n)];return r==null?!1:je(s=>this.equals.apply(null,[tt(s)[0],n]),r)}TryGetValue(n,r){const s=this.data[this.hash(n)];if(s==null)return!1;{const l=Be(i=>{const o=tt(i);return this.equals.apply(null,[o[0],n])?g(o[1]):null},s);return l!=null&&l.$==1&&(r.set(l.$0),!0)}}RemoveKey(n){return this.remove(n)}get Keys(){return new ms(this)}set(n,r){const s=this.hash(n),l=this.data[s];if(l==null)this.count=this.count+1,this.data[s]=new Array({K:n,V:r});else{const i=es(o=>this.equals.apply(null,[tt(o)[0],n]),l);i==null?(this.count=this.count+1,l.push({K:n,V:r})):l[i.$0]={K:n,V:r}}}remove(n){const r=this.hash(n),s=this.data[r];if(s==null)return!1;{const l=$t(i=>!this.equals.apply(null,[tt(i)[0],n]),s);return C(l)<s.length&&(this.count=this.count-1,this.data[r]=l,!0)}}Item(n){return this.get(n)}get(n){const r=this.data[this.hash(n)];return r==null?ts():ns(s=>{const l=tt(s);return this.equals.apply(null,[l[0],n])?g(l[1]):null},r)}GetEnumerator(){return hs(ss(Cn(this.data)))}static New_5(){return new this("New_5")}static New_6(n,r,s){return new this("New_6",n,r,s)}}function Ar(e,t){return rl(e,-2147483648,2147483647,t)}function Er(e,t){return{c:e,r:t}}class Tr extends R{constructor(){super();u(this,"idle");u(this,"robin");this.idle=!0,this.robin=[]}Fork(n){this.robin.push(n),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}tick(){const n=Date.now();let r=!0;for(;r;)this.robin.length===0?(this.idle=!0,r=!1):(this.robin.shift()(),Date.now()-n>40&&(setTimeout(()=>{this.tick()},0),r=!1))}}class xr extends R{constructor(){super();u(this,"init");u(this,"c");u(this,"pending");u(this,"r");this.c=!1,this.pending=null,this.r=[],this.init=1}}function kr(){return{Current:null,Dirty:!1}}function Sr(e,t){e.Current=t,e.Dirty=!0}function Re(e,t){xt(e,t,null)}function xt(e,t,n){for(;;){if(t!=null&&t.$==1)return bt(e,t.$0.El,n);if(t!=null&&t.$==2){const r=t.$0;r.Dirty=!1,t=r.Current}else{if(t==null)return n;if(t!=null&&t.$==4)return bt(e,t.$0.Text,n);if(t!=null&&t.$==5)return bt(e,t.$0,n);if(t!=null&&t.$==6)return Ke((r,s)=>(l=>i=>o=>i==null||i.constructor===Object?xt(l,i,o):bt(l,i,o))(e)(r)(s),t.$0.Els,n);{const r=t.$1;t=t.$0,n=xt(e,r,n)}}}}function Dr(e,t){return Ns(Cs(),Ve(e,xe(),t))}function Ir(e,t,n){return ze()?Yt(()=>{const r=Xe(n),s=Ur(t,r),l=Fr(t,r);return ut(Ce($s(s,Lr(t,r))),()=>ut(ge(e,t),()=>ut(Ce(l),()=>(t.PreviousNodes=r,It(null)))))}):ge(e,t)}function Gr(e,t,n){const r=Xe(n);ht(e,t.Top),t.PreviousNodes=r}function Ve(e,t,n){Re(e,n);const r=Bn(e,t);return re.New(r,n,null,e,Fe(),Nt(r.OnAfterRender))}function bt(e,t,n){return lr(e,n,t),t}function ge(e,t){if(_e()){const n=r=>{requestAnimationFrame(()=>{ht(e,t.Top),r()})};return Ee((r,s,l)=>n.apply(null,[r,s,l]))}else return ht(e,t.Top),It(null)}function Lr(e,t){return Rt(lt(n=>Wn(n.Attr),ce(tn(t,ue(n=>Kn(n.Attr),e.PreviousNodes)))))}function Fr(e,t){return Rt(lt(n=>Qn(n.Attr),ce(tn(e.PreviousNodes,ue(n=>Jn(n.Attr),t)))))}function Ur(e,t){const n=s=>zn(s.Attr),r=s=>ue(n,s);return Rt(lt(s=>_n(s.Attr),ce(vs(r(e.PreviousNodes),r(t)))))}function ht(e,t){e||Zr(t),qe(t.Children),Me(t)}function Zr(e){function t(n){function r(s){for(;;)if(s!=null&&s.$==0){const l=s.$1,i=s.$0;if(r(i))return!0;s=l}else if(s!=null&&s.$==2){const l=s.$0;if(l.Dirty)return!0;s=l.Current}else if(s!=null&&s.$==6){const l=s.$0;return l.Dirty||je(t,l.Holes)}else return!1}return r(n.Children)}ke(e.El,e.Attr),t(e)&&Or(e)}function qe(e){for(;;){if(e!=null&&e.$==1)return ht(!1,e.$0);if(e!=null&&e.$==2)e=e.$0.Current;else{if(e==null)return null;if(e!=null&&e.$==5)return null;if(e!=null&&e.$==4){const t=e.$0;return t.Dirty?(t.Text.nodeValue=t.Value,t.Dirty=!1):null}else if(e!=null&&e.$==6){const t=e.$0;return M(n=>{ht(!1,n)},t.Holes),M(n=>{ke(n[0],n[1])},t.Attrs),Me(t)}else{const t=e.$1,n=e.$0;qe(n),e=t}}}}function Me(e){const t=Nt(e.Render);t!=null&&t.$==1&&(t.$0(e.El),Ct(e,"Render",null))}function Or(e){const t=e.El;function n(i,o){for(;;){if(i!=null&&i.$==1)return i.$0.El;if(i!=null&&i.$==2){const a=i.$0;if(a.Dirty)return a.Dirty=!1,xt(t,a.Current,o);i=a.Current}else{if(i==null)return o;if(i!=null&&i.$==4)return i.$0.Text;if(i!=null&&i.$==5)return i.$0;if(i!=null&&i.$==6){const a=i.$0;return a.Dirty&&(a.Dirty=!1),Ke(($,d)=>$==null||$.constructor===Object?n($,d):$,a.Els,o)}else{const a=i.$1;i=i.$0,o=n(a,o)}}}}const r=e.El;il(i=>{ir(r,i)},ll(ol(e),sl(e.El,Nt(e.Delimiters))));let s=e.Children;const l=Nt(e.Delimiters);n(s,l!=null&&l.$==1?l.$0[1]:null)}class re{constructor(){u(this,"Attr");u(this,"Children");u(this,"Delimiters");u(this,"El");u(this,"ElKey");u(this,"Render")}Equals(t){return this.ElKey===t.ElKey}GetHashCode(){return this.ElKey}static New(t,n,r,s,l,i){const o={Attr:t,Children:n,El:s,ElKey:l};let a=(Ct(o,"Delimiters",r),Ct(o,"Render",i),o);return K(re,a)}}let pt=B(e=>{var t;return t=class{},pt=e(t),u(t,"RenderedFullDocTemplate"),u(t,"TextHoleRE"),u(t,"GlobalHoles"),u(t,"LocalTemplatesLoaded"),u(t,"LoadedTemplates"),t.LoadedTemplates=new dt("New_5"),t.LocalTemplatesLoaded=!1,t.GlobalHoles=new dt("New_5"),t.TextHoleRE="\\${([^}]+)}",t.RenderedFullDocTemplate=null,t});function v(e,t){return Pe(e,t),e[t]}function C(e){return e.dims===2?e.length*e.length:e.length}function Pe(e,t){(t<0||t>=e.length)&&Z("Index was outside the bounds of the array.")}function Rr(e,t,n){Pe(e,t),e[t]=n}class q extends R{constructor(n,r,s,l){var t=(...args)=>{super(...args);u(this,"equals");u(this,"hash");u(this,"data");u(this,"count")};n=="New_3"&&(n="New_4",r=[],s=b,l=ft);let i;if(n=="New_2"&&(i=r,n="New_4",r=i,s=b,l=ft),n=="New_4"){const o=r,a=s,$=l;t(),this.equals=a,this.hash=$,this.data=[],this.count=0;const d=S(o);try{for(;d.MoveNext();)this.add(d.Current)}finally{typeof d=="object"&&V(d)&&d.Dispose()}}}SAdd(n){return this.add(n)}Contains(n){const r=this.data[this.hash(n)];return r==null?!1:this.arrContains(n,r)}add(n){const r=this.hash(n),s=this.data[r];return s==null?(this.data[r]=[n],this.count=this.count+1,!0):this.arrContains(n,s)?!1:(s.push(n),this.count=this.count+1,!0)}arrContains(n,r){let s=!0,l=0;const i=r.length;for(;s&&l<i;)this.equals.apply(null,[r[l],n])?s=!1:l=l+1;return!s}GetEnumerator(){return S(qt(this.data))}ExceptWith(n){const r=S(n);try{for(;r.MoveNext();)this.Remove(r.Current)}finally{typeof r=="object"&&V(r)&&r.Dispose()}}get Count(){return this.count}IntersectWith(n){const r=new q("New_4",n,this.equals,this.hash),s=qt(this.data);for(let l=0,i=s.length-1;l<=i;l++){const o=s[l];r.Contains(o)||this.Remove(o)}}Remove(n){const r=this.data[this.hash(n)];return r==null?!1:this.arrRemove(n,r)&&(this.count=this.count-1,!0)}CopyTo(n,r){const s=qt(this.data);for(let l=0,i=s.length-1;l<=i;l++)Rr(n,l+r,s[l])}arrRemove(n,r){let s=!0,l=0;const i=r.length;for(;s&&l<i;)this.equals.apply(null,[r[l],n])?(r.splice(l,1),s=!1):l=l+1;return!s}static New_3(){return new this("New_3")}static New_4(n,r,s){return new this("New_4",n,r,s)}static New_2(n){return new this("New_2",n)}}function Vr(e){const t=S(e);try{return t.MoveNext()?t.Current:Wt()}finally{typeof t=="object"&&V(t)&&t.Dispose()}}function qr(e,t,n){let r=t;const s=S(n);try{for(;s.MoveNext();)r=e(r,s.Current);return r}finally{typeof s=="object"&&V(s)&&s.Dispose()}}function Mr(e,t){const n=S(t);try{for(;n.MoveNext();)e(n.Current)}finally{typeof n=="object"&&V(n)&&n.Dispose()}}function be(e){return{GetEnumerator:()=>S(e())}}function Pr(e,t){return jr(wt(e,t))}function wt(e,t){return{GetEnumerator:()=>{const n=S(t);return new _(null,null,r=>n.MoveNext()&&(r.c=e(n.Current),!0),()=>{n.Dispose()})}}}function jr(e){return{GetEnumerator:()=>{const t=S(e);function n(r){for(;;){const s=r.s;if(b(s,null))if(t.MoveNext())r.s=S(t.Current),r=r;else return t.Dispose(),!1;else{if(s.MoveNext())return r.c=s.Current,!0;r.Dispose(),r.s=null,r=r}}}return new _(null,null,n,r=>{const s=r.s;b(s,null)||s.Dispose(),b(t,null)||t.Dispose()})}}}function Br(e,t){return Kr(e,Wr(t))}function Hr(e){const t=S(e);try{t.MoveNext()||Qr();let n=t.Current;for(;t.MoveNext();){const r=t.Current;Zt(r,n)===1&&(n=r)}return n}finally{typeof t=="object"&&V(t)&&t.Dispose()}}function Kr(e,t){return e<0&&ws(),{GetEnumerator:()=>{const n=[S(t)];return new _(0,null,r=>{if(r.s=r.s+1,r.s>e)return!1;{const s=n[0];return b(s,null)?Wt():s.MoveNext()?(r.c=s.Current,r.s===e&&(s.Dispose(),n[0]=null),!0):(s.Dispose(),n[0]=null,Wt())}},()=>{const r=n[0];b(r,null)||r.Dispose()})}}}function Wr(e){return{GetEnumerator:()=>new _(0,null,t=>(t.c=e(t.s),t.s=t.s+1,!0),void 0)}}function Jr(e,t){return!zr(n=>!e(n),t)}function Qr(){return Z("The input sequence was empty.")}function zr(e,t){const n=S(t);try{let r=!1;for(;!r&&n.MoveNext();)r=e(n.Current);return r}finally{typeof n=="object"&&V(n)&&n.Dispose()}}let se=B(e=>{var t;return t=class{},se=e(t),u(t,"counter"),t.counter=0,t});class _r extends Error{constructor(n,r,s,l){var t=(...args)=>{super(...args);u(this,"ct")};let i;if(n=="New"&&(i=r,n="New_1",r="The operation was canceled.",s=null,l=i),n=="New_1"){const o=r,a=s,$=l;t(o),this.inner=a,this.ct=$}}static New(n){return new this("New",n)}static New_1(n,r,s){return new this("New_1",n,r,s)}}class le extends w{constructor(n,r,s,l){super(n,r);u(this,"docNode_1");u(this,"updates_1");u(this,"elt");u(this,"rvUpdates");this.docNode_1=n,this.updates_1=r,this.elt=s,this.rvUpdates=l}static New(n,r,s){const l=Ve(n,r,s.docNode),i=St.Create(s.updates);return new le(mr(l),Qt(Pn(l.Attr),i.v),n,i)}}function mt(e){if(e instanceof Array)return e;if(e instanceof Ye)return He(e);if(e===null)return[];{const t=[],n=S(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{typeof n=="object"&&V(n)&&n.Dispose()}}}function ie(e,t,n){const r=C(n);function s(l){return i=>{switch(i<=0?0:i===1&&l>=0&&l<r?1:2){case 0:return e;case 1:return v(n,l);case 2:const o=i/2>>0;return t(s(l)(o),s(l+o)(i-o))}}}return s(0)(r)}function Yr(e,t,n,r){const s=C(r);function l(i){return o=>{switch(o<=0?0:o===1&&i>=0&&i<s?1:2){case 0:return t;case 1:return e(v(r,i));case 2:const a=o/2>>0;return n(l(i)(a),l(i+a)(o-a))}}}return l(0)(s)}function Xr(e,t,n,r){const s={DynElem:e,DynFlags:t,DynNodes:n};return Ct(s,"OnAfterRender",r),s}function ts(){throw new _s("New")}function je(e,t){let n=!1,r=0;for(;!n&&r<C(t);)e(t[r])?n=!0:r=r+1;return n}function Be(e,t){let n=null,r=0;for(;r<t.length&&n==null;){const s=e(t[r]);s!=null&&s.$==1&&(n=s),r=r+1}return n}function es(e,t){let n=null,r=0;for(;r<t.length&&n==null;)e(t[r])&&(n=g(r)),r=r+1;return n}function He(e){const t=[];let n=e;for(;n.$!=0;)t.push(Is(n)),n=Gs(n);return t}function $t(e,t){const n=[];for(let r=0,s=t.length-1;r<=s;r++)e(t[r])&&n.push(t[r]);return n}function lt(e,t){const n=new Array(t.length);for(let r=0,s=t.length-1;r<=s;r++)n[r]=e(t[r]);return n}function M(e,t){for(let n=0,r=t.length-1;n<=r;n++)e(t[n])}function Ke(e,t,n){let r=n;const s=t.length;for(let l=1,i=s;l<=i;l++)r=e(t[s-l],r);return r}function ns(e,t){const n=Be(e,t);return n==null?Z("KeyNotFoundException"):n.$0}function kt(e){if(e instanceof Array)return e.slice();if(e instanceof Ye)return He(e);{const t=[],n=S(e);try{for(;n.MoveNext();)t.push(n.Current);return t}finally{typeof n=="object"&&V(n)&&n.Dispose()}}}function rs(e,t){const n=[];for(let r=0,s=t.length-1;r<=s;r++){const l=e(t[r]);l==null||n.push(l.$0)}return n}function ss(e){return Array.prototype.concat.apply([],kt(e))}function ls(e,t){const n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t;return n}function is(e,t){e<0&&Z("Negative size given.");const n=new Array(e);for(let r=0,s=e-1;r<=s;r++)n[r]=t(r);return n}function os(e,t){let n=!0,r=0;for(;n&&r<C(t);)e(t[r])?r=r+1:n=!1;return n}function us(e){let t=null,n=0;const r=e.textContent,s=new RegExp(Et(),"g");for(;t=s.exec(r),t!==null;){e.parentNode.insertBefore(globalThis.document.createTextNode(et(r,g(n),g(s.lastIndex-v(t,0).length-1))),e),n=s.lastIndex;const l=globalThis.document.createElement("span");l.setAttribute("ws-replace",v(t,1).toLowerCase()),e.parentNode.insertBefore(l,e)}s.lastIndex=0,e.textContent=et(r,g(n),null)}function ye(e){console.warn("Instantiating non-loaded template",e)}function cs(e,t,n){const r=e.querySelector("[ws-replace]");return b(r,null)?(console.warn("Filling non-existent text hole",n),null):(r.parentNode.replaceChild(globalThis.document.createTextNode(t),r),g(r.getAttribute("ws-replace")))}function as(e,t){const n=r=>{j(e,"["+r+"]",s=>{t.Contains(s.getAttribute(r))||s.removeAttribute(r)})};n("ws-attr"),n("ws-onafterrender"),n("ws-var"),j(e,"[ws-hole]",r=>{if(!t.Contains(r.getAttribute("ws-hole")))for(r.removeAttribute("ws-hole");r.hasChildNodes();)r.removeChild(r.lastChild)}),j(e,"[ws-replace]",r=>{t.Contains(r.getAttribute("ws-replace"))||r.parentNode.removeChild(r)}),j(e,"[ws-on]",r=>{r.setAttribute("ws-on",At(" ",$t(s=>t.Contains(v(z(s,[":"],1),1)),z(r.getAttribute("ws-on"),[" "],1))))}),j(e,"[ws-attr-holes]",r=>{const s=z(r.getAttribute("ws-attr-holes"),[" "],1);for(let l=0,i=s.length-1;l<=i;l++){const o=v(s,l);let a=new RegExp(Et(),"g"),$=r.getAttribute(o).replace(a,(d,E)=>t.Contains(E)?d:"");r.setAttribute(o,$)}})}function fs(e,t){We(t);const n=t.nodeName.toLowerCase(),r=e.querySelector("[ws-attr="+n+"]");if(b(r,null))console.warn("Filling non-existent attr hole",n);else{r.removeAttribute("ws-attr");for(let s=0,l=t.attributes.length-1;s<=l;s++){const i=t.attributes.item(s);i.name=="class"&&r.hasAttribute("class")?r.setAttribute("class",r.getAttribute("class")+" "+i.nodeValue):r.setAttribute(i.name,i.nodeValue)}}}function ds(e,t){const n=r=>{j(e,"["+r+"]",s=>{let l;const i=(l=null,[t.TryGetValue(s.getAttribute(r).toLowerCase(),{get:()=>l,set:o=>{l=o}}),l]);i[0]&&s.setAttribute(r,i[1])})};n("ws-hole"),n("ws-replace"),n("ws-attr"),n("ws-onafterrender"),n("ws-var"),j(e,"[ws-on]",r=>{r.setAttribute("ws-on",At(" ",lt(s=>{let l;const i=z(s,[":"],1),o=(l=null,[t.TryGetValue(v(i,1),{get:()=>l,set:a=>{l=a}}),l]);return o[0]?v(i,0)+":"+o[1]:s},z(r.getAttribute("ws-on"),[" "],1))))}),j(e,"[ws-attr-holes]",r=>{const s=z(r.getAttribute("ws-attr-holes"),[" "],1);for(let l=0,i=s.length-1;l<=i;l++)(()=>{const o=v(s,l);return r.setAttribute(o,qr((a,$)=>{const d=tt($);return a.replace(new RegExp("\\${"+d[0]+"}","ig"),"${"+d[1]+"}")},r.getAttribute(o),t))})()})}function Ne(e,t,n){for(;;)if(e.hasChildNodes())n=t.insertBefore(e.lastChild,n);else return null}function We(e){const t=e.attributes,n=[],r=[],s=[];for(let i=0,o=t.length-1;i<=o;i++){const a=t.item(i);if(jt(a.nodeName,"ws-on")&&a.nodeName!="ws-onafterrender"&&a.nodeName!="ws-on")n.push(a.nodeName),r.push(et(a.nodeName,g(5),null)+":"+a.nodeValue.toLowerCase());else if(!jt(a.nodeName,"ws-")&&new RegExp(Et()).test(a.nodeValue)){let $=new RegExp(Et(),"g"),d=a.nodeValue.replace($,(E,h)=>"${"+h.toLowerCase()+"}");a.nodeValue=d,s.push(a.nodeName)}}r.length!=0&&e.setAttribute("ws-on",At(" ",r)),s.length!=0&&e.setAttribute("ws-attr-holes",At(" ",s));const l=i=>{const o=e.getAttribute(i);o==null||e.setAttribute(i,o.toLowerCase())};l("ws-hole"),l("ws-replace"),l("ws-attr"),l("ws-onafterrender"),l("ws-var"),M(i=>{e.removeAttribute(i)},n)}function et(e,t,n){if(t==null)if(n!=null&&n.$==1){const r=n.$0;return r<0?"":e.slice(0,r+1)}else return"";else{if(n==null)return e.slice(t.$0);{const r=n.$0;return r<0?"":e.slice(t.$0,r+1)}}}function S(e){return e instanceof Array?Je(e):b(typeof e,"string")?Qe(e):e.GetEnumerator()}function Je(e){return new _(0,null,t=>{const n=t.s;return n<C(e)&&(t.c=v(e,n),t.s=n+1,!0)},void 0)}function Qe(e){return new _(0,null,t=>{const n=t.s;return n<e.length&&(t.c=e[n],t.s=n+1,!0)},void 0)}function hs(e){return e instanceof Array?Je(e):b(typeof e,"string")?Qe(e):"GetEnumerator0"in e?e.GetEnumerator0():e.GetEnumerator()}function Wt(){return Z("The input sequence has an insufficient number of elements.")}function ps(e,t){let n=!0,r=0;for(;n&&r<C(t);)b(t[r],e)?n=!1:r=r+1;return!n}function ws(){return Z("The input must be non-negative.")}class ms extends R{constructor(n){super();u(this,"d");this.d=n}GetEnumerator(){return S(wt(n=>n.K,this.d))}}function ze(){return As()}function Ce(e){return Yt(()=>ut(gs(()=>{},Es(e)),()=>(Ts(e),It(null))))}function $s(e,t){return oe(ln(e.$0,t.$0))}function gs(e,t){const n=t.Duration;if(n===0)return Pt();{const r=s=>{function l(i){return o=>{const a=o-i;return t.Compute(a),e(),a<=n?void requestAnimationFrame($=>{l(i)($)}):s()}}requestAnimationFrame(i=>{l(i)(i)})};return Ee((s,l,i)=>r.apply(null,[s,l,i]))}}function oe(e){return{$:0,$0:e}}function Rt(e){return oe(Ls(wt(ks,e)))}function Vt(){return oe(un())}function _e(){return nn.BatchUpdatesEnabled}function bs(e){const t=[0];function n(){return Yt(()=>ut(e,()=>{const r=t[0];return b(r,1)?(t[0]=0,Pt()):b(r,2)?(t[0]=1,n()):Pt()}))}return()=>{const r=t[0];b(r,0)?(t[0]=1,Ln(n(),null)):b(r,1)&&(t[0]=2)}}class St{constructor(){u(this,"c");u(this,"s");u(this,"v")}static Create(t){let n;return n=null,n=St.New(t,null,()=>{let r;return r=n.s,r===null&&(r=Dn(n.c()),n.s=r,ve(r,()=>{n.s=null})),r}),n}static New(t,n,r){return K(St,{c:t,s:n,v:r})}}class Ye{GetEnumerator(){return new _(this,null,t=>{const n=t.s;return n.$==0?!1:(t.c=n.$0,t.s=n.$1,!0)},void 0)}}function ys(e){e.splice(0,C(e))}function Ns(e,t){return{PreviousNodes:e,Top:t}}function Cs(){return gt(new q("New_3"))}function Xe(e){const t=[];function n(l,i){for(;;)switch(l){case 0:if(i!=null&&i.$==0){const o=i.$1,a=i.$0;n(0,a),i=o}else if(i!=null&&i.$==1)i=i.$0,l=1;else if(i!=null&&i.$==2)i=i.$0.Current;else if(i!=null&&i.$==6){const o=i.$0.Holes;return(a=>$=>{M(a,$)})(s)(o)}else return null;break;case 1:t.push(i),i=i.Children,l=0;break}}function r(l){return n(0,l)}function s(l){return n(1,l)}return r(e),gt(new q("New_2",t))}function gt(e){return{$:0,$0:e}}function ue(e,t){return gt(Ys(e,t.$0))}function tn(e,t){return gt(Xs(e.$0,t.$0))}function ce(e){return st(e.$0)}function vs(e,t){return gt(tl(e.$0,t.$0))}function As(){return sn.UseAnimations}function Es(e){return xs(rs(t=>t.$==1?g(t.$0):null,on(e.$0)))}function Ts(e){M(t=>{t.$==0&&t.$0()},on(e.$0))}function xs(e){const t=mt(e),n=C(t);if(n===0)return Ss();if(n===1)return v(t,0);{const r=Hr(wt(l=>l.Duration,t)),s=lt(l=>Ds(r,l),t);return en(r,l=>{M(i=>{i.Compute(l)},s)})}}function ks(e){return e.$0}function Ss(e){return en(0,()=>e)}function en(e,t){return{Compute:t,Duration:e}}function Ds(e,t){const n=t.Compute,r=t.Duration,s=ul(()=>t.Compute(t.Duration));return{Compute:l=>l>=r?s.f():n(l),Duration:e}}let nn=B(e=>{var t;return t=class{},nn=e(t),u(t,"BatchUpdatesEnabled"),t.BatchUpdatesEnabled=!0,t});function Is(e){return e.$==1?e.$0:rn()}function Gs(e){return e.$==1?e.$1:rn()}function rn(){return Z("The input list was empty.")}let k=B(e=>{var t;return t=class{},k=e(t),u(t,"FloatApplyChecked"),u(t,"FloatGetChecked"),u(t,"FloatSetChecked"),u(t,"FloatApplyUnchecked"),u(t,"FloatGetUnchecked"),u(t,"FloatSetUnchecked"),u(t,"IntApplyChecked"),u(t,"IntGetChecked"),u(t,"IntSetChecked"),u(t,"IntApplyUnchecked"),u(t,"IntGetUnchecked"),u(t,"IntSetUnchecked"),u(t,"FileApplyUnchecked"),u(t,"FileGetUnchecked"),u(t,"FileSetUnchecked"),u(t,"DateTimeApplyUnchecked"),u(t,"DateTimeGetUnchecked"),u(t,"DateTimeSetUnchecked"),u(t,"StringListApply"),u(t,"StringListGet"),u(t,"StringListSet"),u(t,"StringApply"),u(t,"StringGet"),u(t,"StringSet"),u(t,"BoolCheckedApply"),u(t,"EmptyAttr"),(()=>{t.EmptyAttr=null,t.BoolCheckedApply=c=>[p=>{p.addEventListener("change",()=>c.Get()!=p.checked?c.Set(p.checked):null)},p=>f=>f!=null&&f.$==1?void(p.checked=f.$0):null,W(g,c.View)],t.StringSet=c=>p=>{c.value=p},t.StringGet=c=>g(c.value);const r=Us(),s=Fs();t.StringApply=c=>Q(r,s,c),t.StringListSet=c=>p=>{const f=c.options;for(let N=0,L=f.length-1;N<=L;N++)(()=>{const P=f.item(N);P.selected=ps(P.value,p)})()},t.StringListGet=c=>{const p=c.selectedOptions;return g(kt(be(()=>Pr(f=>[p.item(f).value],de(0,p.length-1)))))};const l=Os(),i=Zs();t.StringListApply=c=>Q(l,i,c),t.DateTimeSetUnchecked=c=>p=>{c.value=new Date(p).toLocaleString()},t.DateTimeGetUnchecked=c=>{let p,f;const N=c.value;if(ot(N))return g(-864e13);{p=0;const L=nl(N);return f=[L!=null&&L.$==1&&(p=L.$0,!0),p],f[0]?g(f[1]):null}};const o=Vs(),a=Rs();t.DateTimeApplyUnchecked=c=>Q(o,a,c),t.FileSetUnchecked=()=>()=>null,t.FileGetUnchecked=c=>{const p=c.files;return g(kt(be(()=>wt(f=>p.item(f),de(0,p.length-1)))))};const $=Ps(),d=Ms();t.FileApplyUnchecked=c=>qs($,d,c),t.IntSetUnchecked=c=>p=>{c.value=String(p)},t.IntGetUnchecked=c=>{const p=c.value;if(ot(p))return g(0);{const f=+p;return f!==f>>0?null:g(f)}};const E=Bs(),h=js();t.IntApplyUnchecked=c=>Q(E,h,c),t.IntSetChecked=c=>p=>{const f=p.Input;return c.value!=f?void(c.value=f):null},t.IntGetChecked=c=>{let p,f;const N=c.value;if(ot(N))p=!c.checkValidity||c.checkValidity()?U.Blank(N):U.Invalid(N);else{const L=(f=0,[Ar(N,{get:()=>f,set:P=>{f=P}}),f]);p=L[0]?U.Valid(L[1],N):U.Invalid(N)}return g(p)};const m=Ks(),T=Hs();t.IntApplyChecked=c=>Q(m,T,c),t.FloatSetUnchecked=c=>p=>{c.value=String(p)},t.FloatGetUnchecked=c=>{const p=c.value;if(ot(p))return g(0);{const f=+p;return isNaN(f)?null:g(f)}};const D=Js(),I=Ws();t.FloatApplyUnchecked=c=>Q(D,I,c),t.FloatSetChecked=c=>p=>{const f=p.Input;return c.value!=f?void(c.value=f):null},t.FloatGetChecked=c=>{let p;const f=c.value;if(ot(f))p=!c.checkValidity||c.checkValidity()?U.Blank(f):U.Invalid(f);else{const N=+f;p=isNaN(N)?U.Invalid(f):U.Valid(N,f)}return g(p)};const y=zs(),A=Qs();t.FloatApplyChecked=c=>Q(y,A,c)})(),t}),it=B(e=>{var t;return t=class{},it=e(t),u(t,"defaultWrap"),u(t,"wrapMap"),u(t,"rhtml"),u(t,"rtagName"),u(t,"rxhtmlTag"),(()=>{t.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),t.rtagName=new RegExp("<([\\w:]+)"),t.rhtml=new RegExp("<|&#?\\w+;");const r=[1,"<table>","</table>"];let s=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",r],["tbody",r],["tfoot",r],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);t.wrapMap=s,t.defaultWrap=[0,"",""]})(),t});class _ extends R{constructor(n,r,s,l){super();u(this,"s");u(this,"c");u(this,"n");u(this,"d");u(this,"e");this.s=n,this.c=r,this.n=s,this.d=l,this.e=0}MoveNext(){const n=this.n(this);return this.e=n?1:2,n}get Current(){return this.e===1?this.c:this.e===0?Z("Enumeration has not started. Call MoveNext."):Z("Enumeration already finished.")}Dispose(){this.d&&this.d(this)}}let sn=B(e=>{var t;return t=class{},sn=e(t),u(t,"UseAnimations"),u(t,"CubicInOut"),t.CubicInOut=ae.Custom(r=>{const s=r*r;return 3*s-2*(s*r)}),t.UseAnimations=!0,t});function ln(e,t){return e.$==0?t:t.$==0?e:{$:2,$0:e,$1:t}}function on(e){const t=[];function n(r){for(;;){if(r.$==1)return t.push(r.$0);if(r.$==2){const s=r.$1,l=r.$0;n(l),r=s}else return r.$==3?M(s=>{t.push(s)},r.$0):null}}return n(e),t.slice(0)}function Ls(e){const t=mt(e);return ie(un(),ln,t)}function un(){return cn.Empty}function Q(e,t,n){let r;return r=null,[s=>{const l=()=>{n.UpdateMaybe(i=>{let o;return r=e(s),r!=null&&r.$==1&&!b(r.$0,i)&&(o=[r,r.$0],!0)?o[0]:null})};s.addEventListener("change",l),s.addEventListener("input",l),s.addEventListener("keypress",l)},s=>{const l=t(s);return i=>i==null?null:l(i.$0)},W(s=>r!=null&&r.$==1&&b(r.$0,s)&&(r.$0,!0)?null:g(s),n.View)]}function Fs(){return k.StringSet}function Us(){return k.StringGet}function Zs(){return k.StringListSet}function Os(){return k.StringListGet}function Rs(){return k.DateTimeSetUnchecked}function Vs(){return k.DateTimeGetUnchecked}function qs(e,t,n){let r;return r=null,[s=>{s.addEventListener("change",()=>{n.UpdateMaybe(l=>{let i;return r=e(s),r!=null&&r.$==1&&r.$0!==l&&(i=[r,r.$0],!0)?i[0]:null})})},s=>{const l=t(s);return i=>i==null?null:l(i.$0)},W(s=>r!=null&&r.$==1&&b(r.$0,s)&&(r.$0,!0)?null:g(s),n.View)]}function Ms(){return k.FileSetUnchecked}function Ps(){return k.FileGetUnchecked}function js(){return k.IntSetUnchecked}function Bs(){return k.IntGetUnchecked}function Hs(){return k.IntSetChecked}function Ks(){return k.IntGetChecked}function Ws(){return k.FloatSetUnchecked}function Js(){return k.FloatGetUnchecked}function Qs(){return k.FloatSetChecked}function zs(){return k.FloatGetChecked}function ot(e){return qn(el,e)}class U{get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}static Blank(t){return K(U,{$:2,$0:t})}static Invalid(t){return K(U,{$:1,$0:t})}static Valid(t,n){return K(U,{$:0,$0:t,$1:n})}}class _s extends Error{static New(){return new this("New")}static New_1(t){return new this("New_1",t)}constructor(t,n){if(t=="New"&&(t="New_1",n="The given key was not present in the dictionary."),t=="New_1"){const r=n;super(r)}}}class ae extends R{constructor(n){super();u(this,"transformTime");this.transformTime=n}static Custom(n){return new ae(n)}}function Ys(e,t){return new q("New_2",$t(e,st(t)))}function Xs(e,t){const n=new q("New_2",st(t));return n.ExceptWith(st(e)),n}function st(e){const t=ls(e.Count,void 0);return e.CopyTo(t,0),t}function tl(e,t){const n=new q("New_2",st(e));return n.IntersectWith(st(t)),n}function qt(e){let t=[];for(var n in e)t.push.apply(t,e[n]);return t}function el(e){return e.match(new RegExp("\\s"))!==null}function nl(e){const t=Date.parse(e);return isNaN(t)?null:g(t)}function rl(e,t,n,r){const s=+e,l=s===s-s%1&&s>=t&&s<=n;return l&&r.set(s),l}function sl(e,t){let n;if(t!=null&&t.$==1){const r=[];for(n=t.$0[0].nextSibling;n!==t.$0[1];)r.push(n),n=n.nextSibling;return Dt(r)}else{let r=e.childNodes.length;const s=e.childNodes;let l=is(r,i=>s[i]);return Dt(l)}}function ll(e,t){const n=e.$0;return Dt($t(r=>os(s=>r!==s,n),t.$0))}function il(e,t){M(e,t.$0)}function ol(e){const t=[];function n(r){for(;;)if(r!=null&&r.$==2)r=r.$0.Current;else{if(r!=null&&r.$==1)return t.push(r.$0.El);if(r==null)return null;if(r!=null&&r.$==5)return t.push(r.$0);if(r!=null&&r.$==4)return t.push(r.$0.Text);if(r!=null&&r.$==6){const s=r.$0.Els;return(l=>i=>{M(l,i)})(l=>{l==null||l.constructor===Object?n(l):t.push(l)})(s)}else{const s=r.$1,l=r.$0;n(l),r=s}}}return n(e.Children),Dt(mt(t))}function Dt(e){return{$:0,$0:e}}function ul(e){return fl(!1,e,cl)}function cl(){const e=this.v();return this.c=!0,this.v=e,this.f=al,e}function al(){return this.v}let cn=B(e=>{var t;return t=class{},cn=e(t),u(t,"Empty"),t.Empty={$:0},t});function fl(e,t,n){return{c:e,v:t,f:n}}hn(()=>{wn()});pn();
