import { Start as eY } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as eZ, Create as e0, GetOptional as e1, SetOptional as e2, OnLoad as e3 } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(e4){ return"Dispose"in e4;}
function b(){ c();}
function c(){ const e4=f(h.Create_1(null), h.Create_1(null), h.Create_1(false), h.Create_1(null), h.Create_1(false));const e5=(e9) => { const e_=null;return u0036(() =>!bh(e9.type, "image/")?(e4.ErrorMessage.Set(m("Invalid file type: "+String(e9.type)+". Please upload an image.")),e4.ImagePreviewUrl.Set(null),u0037()):(e4.IsLoading.Set(true),e4.OcrResult.Set(null),e4.ErrorMessage.Set(null),e4.ImagePreviewUrl.Set(null),u0038(d(e9), (e$) => { e4.ImagePreviewUrl.Set(m(e$));return u0038(e(e$), (fa) => u0039(fa.$==1?(e4.ErrorMessage.Set(m(fa.$0)),e4.OcrResult.Set(null),u0037()):(e4.OcrResult.Set(m(fa.$0)),e4.ErrorMessage.Set(null),u0037()), u0036(() => { e4.IsLoading.Set(false);return u0037();})));})));};const e6="file-input";const e7=R.Element("input", [bt.Create("id", e6), bt.Create("type", "file"), bt.Create("accept", "image/*"), bt.Create("style", "display: none;")], []);const e8=R.Element("div", [n("container mt-4")], [R.Element("h1", [n("mb-4 text-center")], [R.TextNode("AI Image OCR")]), e7, R.Element("div", [bt.Create("id", "drop-zone"), o("drag-over", e4.IsDragOver.View), bt.HandlerImpl("click", () =>() => globalThis.document.getElementById(e6).click()), bt.HandlerImpl("dragover", () =>(e9) => { e9.preventDefault();return e4.IsDragOver.Set(true);}), bt.HandlerImpl("dragleave", () =>(e9) => { e9.preventDefault();return e4.IsDragOver.Set(false);}), bt.HandlerImpl("drop", () =>(e9) => { e9.preventDefault();e4.IsDragOver.Set(false);const e_=u(e9.dataTransfer.files);return e_==null?e4.ErrorMessage.Set(m("No file dropped.")):$(e5(e_.$0), null);}), bt.HandlerImpl("paste", () =>(e9) => { e9.preventDefault();const e_=u(e9.clipboardData.files);return e_==null?e4.ErrorMessage.Set(m("No file pasted.")):$(e5(e_.$0), null);})], [R.Element("p", [n("lead")], [R.TextNode("Drop image here, paste, or click to upload")]), R.Element("i", [n("fs-3 text-muted")], [R.TextNode("(PNG, JPG, GIF, etc.)")])]), R.Element("div", [n("text-center mt-3"), p("display", K((e9) => e9?"block":"none", e4.IsLoading.View))], [R.Element("div", [n("spinner-border text-primary")], [R.Element("span", [n("visually-hidden")], [R.TextNode("Loading...")])])]), R.BindView((e9) => e9==null?R.Empty:R.Element("div", [n("alert alert-danger mt-3")], [R.TextNode(e9.$0)]), e4.ErrorMessage.View), R.BindView((e9) => e9==null?R.Empty:R.Element("div", [n("text-center mt-3")], [R.Element("img", [bt.Create("src", e9.$0), n("img-fluid"), bt.Create("alt", "Preview")], [])]), e4.ImagePreviewUrl.View), R.BindView((e9) => e9==null?R.Empty:R.Element("div", [n("mt-4")], [R.Element("h4", [], [R.TextNode("OCR Result:")]), R.Element("pre", [bt.Create("id", "ocr-result-text")], [R.TextNode(e9.$0)])]), e4.OcrResult.View)]);bY("");R.RunById("main", e8);}
function d(e4){ return bb((e5, e6) => { const e7=new FileReader();e7.onload=() => e5(e7.result);e7.onerror=() => e6(new Error("Error reading file"));return e7.readAsDataURL(e4);});}
function e(e4){ const e5=null;return u0036(() => {((((e6) =>(e7) => e6("Simulating OCR for image data starting with: "+br(e7)+"..."))((e6) => { console.log(e6);}))(bi(e4, 0, 50)));return bc(bs("This is the simulated OCR text extracted from the image.\nIt might contain multiple lines."));});}
function f(e4, e5, e6, e7, e8){ return{ImagePreviewUrl:e4, OcrResult:e5, IsLoading:e6, ErrorMessage:e7, IsDragOver:e8};}
class g { Equals(e4){ return this===e4;} GetHashCode(){ return -1;} }
let h=eZ((e4) => class e5 extends g { static { h=e4(this);} static Create_1(e6){ return new S(false, {s:cc(e6, [])}, e6);} static { } });
function i(e4){ throw new Error(e4);}
function j(e4){ return[e4.K, e4.V];}
function k(e4, e5){ const e6=1+e5-e4;return e6<=0?[]:db(e6, (e7) => e7+e4);}
class l extends g { }
function m(e4){ return{$:1, $0:e4};}
function n(e4){ return q(e4, true);}
function o(e4, e5){ return bu(e5, (e6) =>(e7) => e7?bK(e6, e4):bL(e6, e4));}
function p(e4, e5){ return bu(e5, (e6) =>(e7) => e6.style.setProperty(e4, e7));}
function q(e4, e5){ return bv((e6) => { if(e5)bK(e6, e4);else bL(e6, e4);});}
class r extends g { }
function s(e4){ const e5={};const e6=dA(e4);try { while(e6.MoveNext()){ const e7=e6.Current;e5[e7[0]]=e7[1];} } finally { if(typeof e6=="object"&&a(e6))e6.Dispose();} return e5;}
function t(e4){ let e5=[];let e6;for(var e7 in e4)e5.push(e4[e7]);return e5;}
function u(e4){ return e4.length===0?null:m(e4[0]);}
function v(e4, e5){ let e6=false;let e7=0;while(!e6&&e7<c2(e5))if(e4(e5[e7]))e6=true;else e7=e7+1;return e6;}
function w(e4, e5){ let e6=null;let e7=0;while(e7<e5.length&&e6==null){ const e8=e4(e5[e7]);if(e8!=null&&e8.$==1)e6=e8;e7=e7+1;} return e6;}
function x(e4, e5){ let e6=null;let e7=0;while(e7<e5.length&&e6==null){ e4(e5[e7])?e6=m(e7):void 0;e7=e7+1;} return e6;}
function y(e4){ const e5=[];let e6=e4;while(!(e6.$==0)){ e5.push(d$(e6));e6=ea(e6);} return e5;}
function z(e4, e5){ const e6=[];for(let e7=0, e8=e5.length-1;e7<=e8;e7++)if(e4(e5[e7]))e6.push(e5[e7]);return e6;}
function A(e4, e5){ const e6=new Array(e5.length);for(let e7=0, e8=e5.length-1;e7<=e8;e7++)e6[e7]=e4(e5[e7]);return e6;}
function B(e4, e5){ for(let e6=0, e7=e5.length-1;e6<=e7;e6++)e4(e5[e6]);}
function C(e4, e5, e6){ let e7=e6;const e8=e5.length;for(let e9=1, e_=e8;e9<=e_;e9++)e7=e4(e5[e8-e9], e7);return e7;}
function D(e4, e5){ const e6=w(e4, e5);return e6==null?i("KeyNotFoundException"):e6.$0;}
function E(e4){ if(e4 instanceof Array)return e4.slice();else if(e4 instanceof dS)return y(e4);else { const e5=[];const e6=dA(e4);try { while(e6.MoveNext())e5.push(e6.Current);return e5;} finally { if(typeof e6=="object"&&a(e6))e6.Dispose();} } }
function F(e4, e5){ const e6=[];for(let e8=0, e9=e5.length-1;e8<=e9;e8++){ const e7=e4(e5[e8]);if(e7==null){ } else e6.push(e7.$0);} return e6;}
function G(e4){ return Array.prototype.concat.apply([], E(e4));}
function H(e4, e5){ const e6=new Array(e4);for(let e7=0, e8=e4-1;e7<=e8;e7++)e6[e7]=e5;return e6;}
function I(e4, e5){ if(e4<0)i("Negative size given.");else null;const e6=new Array(e4);for(let e7=0, e8=e4-1;e7<=e8;e7++)e6[e7]=e5(e7);return e6;}
function J(e4, e5){ let e6=true;let e7=0;while(e6&&e7<c2(e5))if(e4(e5[e7]))e7=e7+1;else e6=false;return e6;}
function K(e4, e5){ return L(() => T(e4, e5()));}
function L(e4){ const e5={c:null, o:e4};return() => { let e6=e5.c;if(e6===null){ e6=e5.o();e5.c=e6;const e7=e6.s;if(e7!=null&&e7.$==0)e5.o=null;else U(e6, () => { e5.c=null;});return e6;} else return e6;};}
function M(e4){ const e5={s:cd(e4)};return() => e5;}
function N(e4, e5){ return O(K(e4, e5));}
function O(e4){ return L(() => u0030(e4()));}
function P(e4, e5){ function e6(){ u0031(e5(), e4, () => { bg().Fork(e6);});} bg().Fork(e6);}
function Q(e4, e5){ return L(() => u0033(e4(), e5()));}
class R extends g { docNode;updates;static get Empty(){ return R.Mk(null, M());} static TextNode(e4){ return R.Mk(cv(globalThis.document.createTextNode(e4)), M());} static BindView(e4, e5){ return R.EmbedView(K(e4, e5));} static Mk(e4, e5){ return new R(e4, e5);} static RunById(e4, e5){ const e6=globalThis.document.getElementById(e4);if(ck(e6, null))i("invalid id: "+e4);else R.Run(e6, e5);} static Element(e4, e5, e6){ const e7=bt.Concat(e5);const e8=R.Concat(e6);return dk.New(globalThis.document.createElement(e4), e7, e8);} static EmbedView(e4){ const e5=cH();return R.Mk(cw(e5), K(() => { }, N((e6) => { cI(e5, e6.docNode);return e6.updates;}, e4)));} static Run(e4, e5){ cJ(e4, e5.docNode);R.RunInPlace(false, e4, e5);} static Concat(e4){ return dm(R.Empty, R.Append, dl(e4));} static RunInPlace(e4, e5, e6){ const e7=cL(e5, e6.docNode);P(dI()||dP()?dQ(cM(e4, e7, e6.docNode)):() => { cN(e4, e7, e6.docNode);}, e6.updates);} static Append(e4, e5){ return R.Mk(cy(e4.docNode, e5.docNode), Q(e4.updates, e5.updates));} constructor(e4, e5){ super();this.docNode=e4;this.updates=e5;} }
class S extends l { isConst;current;snap;view;id;get View(){ return this.view;} Set(e4){ if(this.isConst)(((e5) => e5("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((e5) => { console.log(e5);}));else { cB(this.snap);this.current=e4;this.snap={s:cc(e4, [])};} } Get(){ return this.current;} UpdateMaybe(e4){ const e5=e4(this.Get());if(e5!=null&&e5.$==1)this.Set(e5.$0);} constructor(e4, e5, e6){ super();this.isConst=e4;this.current=e6;this.snap=e5;this.view=() => this.snap;this.id=b$();} }
function T(e4, e5){ const e6=e5.s;if(e6!=null&&e6.$==0)return{s:cd(e4(e6.$0))};else { const e7={s:ce([], [])};V(e5, (e8) => { W(e7, e5, e4(e8));}, e7);return e7;} }
function U(e4, e5){ const e6=e4.s;if(e6==null)e5();else e6!=null&&e6.$==2?e6.$1.push(e5):e6!=null&&e6.$==3?e6.$1.push(e5):void 0;}
function V(e4, e5, e6){ const e7=e4.s;if(e7==null)cB(e6);else e7!=null&&e7.$==2?(X(e7.$1, e6),e5(e7.$0)):e7!=null&&e7.$==3?(e7.$0.push(e5),X(e7.$1, e6)):e5(e7.$0);}
function W(e4, e5, e6){ const e7=e5.s;if(e7!=null&&e7.$==0)Y(e4, e6);else Z(e4, e6);}
function X(e4, e5){ e4.push(e5);if(e4.length%20===0){ const e6=e4.slice(0);dT(e4);for(let e8=0, e9=c2(e6)-1;e8<=e9;e8++){ const e7=c1(e6, e8);if(typeof e7=="object")(((e_) => { if(e_.s)e4.push(e_);})(e7));else(((e_) => { e4.push(e_);})(e7));} } else void 0;}
function Y(e4, e5){ const e6=e4.s;if(e6!=null&&e6.$==3){ e4.s=cd(e5);const e7=e6.$0;for(let e8=0, e9=c2(e7)-1;e8<=e9;e8++)(c1(e7, e8))(e5);} else void 0;}
function Z(e4, e5){ const e6=e4.s;if(e6!=null&&e6.$==3){ e4.s=cc(e5, e6.$1);const e7=e6.$0;for(let e8=0, e9=c2(e7)-1;e8<=e9;e8++)(c1(e7, e8))(e5);} else void 0;}
function u0030(e4){ const e5={s:ce([], [])};V(e4, (e6) => { const e7=e6();V(e7, (e8) => { let e9;const e_=e7.s;if(e_!=null&&e_.$==0){ const e$=e4.s;e9=e$!=null&&e$.$==0;} else e9=false;if(e9)Y(e5, e8);else Z(e5, e8);}, e5);}, e5);return e5;}
function u0031(e4, e5, e6){ const e7=e4.s;if(e7==null)e6();else e7!=null&&e7.$==2?(e7.$1.push(e6),e5(e7.$0)):e7!=null&&e7.$==3?(e7.$0.push(e5),e7.$1.push(e6)):e5(e7.$0);}
function u0032(e4){ const e5=e4.s;if(e5==null)return e4;else if(e5!=null&&e5.$==2){ const e6={s:cc(e5.$0, [])};u0034(e4, e6);return e6;} else if(e5!=null&&e5.$==3){ const e7={s:ce([], [])};V(e4, (e8) => { W(e7, e4, e8);}, e7);return e7;} else return e4;}
function u0033(e4, e5){ const e6=e4.s;const e7=e5.s;if(e6!=null&&e6.$==0)return e7!=null&&e7.$==0?{s:cd(null)}:e5;else if(e7!=null&&e7.$==0)return e4;else { const e8={s:ce([], [])};const e9=() => { const e_=e8.s;if(!(e_!=null&&e_.$==0||e_!=null&&e_.$==2)){ const e$=u0035(e4);const fa=u0035(e5);if(e$!=null&&e$.$==1)if(fa!=null&&fa.$==1)if(e$.$0[1]&&fa.$0[1])Y(e8, null);else Z(e8, null);} };V(e4, e9, e8);V(e5, e9, e8);return e8;} }
function u0034(e4, e5){ const e6=e4.s;if(e6==null)cB(e5);else e6!=null&&e6.$==2?X(e6.$1, e5):e6!=null&&e6.$==3?X(e6.$1, e5):void 0;}
function u0035(e4){ const e5=e4.s;return e5!=null&&e5.$==0?m([e5.$0, true]):e5!=null&&e5.$==2?m([e5.$0, false]):null;}
function u0036(e4){ return(e5) => { try {(e4())(e5);} catch(e6){ e5.k(cg(e6));} };}
function u0037(){ return cj.Zero;}
function u0038(e4, e5){ return ba((e6) => { e4(cf((e7) => { if(e7.$==0){ const e8=e7.$0;bg().Fork(() => { try {(e5(e8))(e6);} catch(e9){ e6.k(cg(e9));} });} else bg().Fork(() => { e6.k(e7);});}, e6.ct));});}
function u0039(e4, e5){ return u0038(e4, () => e5);}
function $(e4, e5){ const e6=(bd())[0];const e7=e5==null?e6:e5.$0;bg().Fork(() => { if(!e7.c)e4(cf((e8) => { if(e8.$==1)be(e8.$0);}, e7));});}
function ba(e4){ return(e5) => { if(e5.ct.c)bf(e5);else e4(e5);};}
function bb(e4){ return(e5) => { const e6=[false];const e7=(e8) => { if(e6[0])i("A continuation provided by Async.FromContinuations was invoked multiple times");else { e6[0]=true;bg().Fork(e8);} };e4((e8) => { e7(() => { e5.k(ch(e8));});}, (e8) => { e7(() => { e5.k(cg(e8));});}, (e8) => { e7(() => { e5.k(ci(e8));});});};}
function bc(e4){ return(e5) => { e5.k(ch(e4));};}
function bd(){ return cj.defCTS;}
function be(e4){ console.log("WebSharper: Uncaught asynchronous exception", e4);}
function bf(e4){ e4.k(ci(new dj("New", e4.ct)));}
function bg(){ return cj.scheduler;}
function bh(e4, e5){ return e4.substring(0, e5.length)==e5;}
function bi(e4, e5, e6){ return e4.substr(e5, e6);}
function bj(e4, e5){ return E(e5).join(e4);}
function bk(e4, e5, e6){ return bl(e4, new RegExp("["+bm(e5.join(""))+"]"), e6);}
function bl(e4, e5, e6){ return e6===1?z((e7) => e7!=="", bn(e4, e5)):bn(e4, e5);}
function bm(e4){ return e4.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function bn(e4, e5){ return e4.split(e5);}
function bo(e4, e5){ return df(e4, bp(e5));}
function bp(e4){ return e4==null?"":e4;}
class bq extends g { }
function br(e4){ return e4==null?"":e4;}
function bs(e4){ return{$:0, $0:e4};}
class bt { static Create(e4, e5){ return bv((e6) => { e6.setAttribute(e4, e5);});} static HandlerImpl(e4, e5){ return bv((e6) => { e6.addEventListener(e4, (e7) =>(e5(e6))(e7), false);});} static A1(e4){ return e0(bt, {$:1, $0:e4});} static Concat(e4){ const e5=dl(e4);return dm(by(), bt.Append, e5);} static A3(e4){ return e0(bt, {$:3, $0:e4});} static Append(e4, e5){ return bx(e4, e5);} static A2(e4, e5){ return e0(bt, {$:2, $0:e4, $1:e5});} }
function bu(e4, e5){ return bt.A1(new cz(e4, e5));}
function bv(e4){ return bt.A3(e4);}
function bw(e4){ return dn((e5) => e5.NChanged, M(), Q, e4.DynNodes);}
function bx(e4, e5){ if(e4===null)return e5;else if(e5===null)return e4;else { const e6=bt.A2(e4, e5);bA(e6, bB(e4)|bB(e5));return e6;} }
function by(){ return ec.EmptyAttr;}
function bz(e4, e5){ const e6=[];const e7=[];function e8(e$){ while(true){ if(!(e$===null)){ if(e$!=null&&e$.$==1)return e6.push(e$.$0);else if(e$!=null&&e$.$==2){ const fa=e$.$1;const fb=e$.$0;e8(fb);e$=fa;} else return e$!=null&&e$.$==3?e$.$0(e4):e$!=null&&e$.$==4?e7.push(e$.$0):null;} else return null;} } e8(e5);const e9=e6.slice(0);let e_=do_1(e4, bB(e5), e9, e7.length===0?null:m((e$) => { c8((fa) => { fa(e$);}, e7);}));return e_;}
function bA(e4, e5){ e4.flags=e5;}
function bB(e4){ return e4!==null&&e4.hasOwnProperty("flags")?e4.flags:0;}
function bC(e4){ const e5=2;return(e4.DynFlags&e5)===e5;}
function bD(e4){ return bI(e4, (e5, e6) => e5.NGetExitAnim(e6));}
function bE(e4){ const e5=1;return(e4.DynFlags&e5)===e5;}
function bF(e4){ return bI(e4, (e5, e6) => e5.NGetEnterAnim(e6));}
function bG(e4){ const e5=4;return(e4.DynFlags&e5)===e5;}
function bH(e4){ return bI(e4, (e5, e6) => e5.NGetChangeAnim(e6));}
function bI(e4, e5){ return dN(A((e6) => e5(e6, e4.DynElem), e4.DynNodes));}
function bJ(e4, e5){ B((e6) => { e6.NSync(e4);}, e5.DynNodes);}
function bK(e4, e5){ const e6=bM(e4);if(e6=="")bN(e4, e5);else!bO(e5).test(e6)?bN(e4, e6+" "+e5):void 0;}
function bL(e4, e5){ let e6=bO(e5);let e7=bM(e4).replace(e6, (e8, e9, e_) => e9==""||e_==""?"":" ");bN(e4, e7);}
function bM(e4){ return e4 instanceof SVGElement?e4.getAttribute("class"):e4.className;}
function bN(e4, e5){ if(e4 instanceof SVGElement)e4.setAttribute("class", e5);else e4.className=e5;}
function bO(e4){ return new RegExp("(\\s+|^)"+e4+"(?:\\s+"+e4+")*(\\s+|$)", "g");}
function bP(e4){ const e5=globalThis.document.createElement("div");if(!bQ().test(e4)){ e5.appendChild(globalThis.document.createTextNode(e4));return e5;} else { const e6=bU().exec(e4);const e7=ck(e6, null)?"":c1(e6, 1).toLowerCase();const e8=(bR())[e7];const e9=e8?e8:bS();e5.innerHTML=e9[1]+e4.replace(bT(), "<$1></$2>")+e9[2];function e_(e$, fa){ while(true){ if(fa===0)return e$;else { const fb=fa;e$=e$.lastChild;fa=fb-1;} } } return e_(e5, e9[0]);} }
function bQ(){ return ed.rhtml;}
function bR(){ return ed.wrapMap;}
function bS(){ return ed.defaultWrap;}
function bT(){ return ed.rxhtmlTag;}
function bU(){ return ed.rtagName;}
function bV(e4, e5, e6){ const e7=e4.querySelectorAll(e5);for(let e8=0, e9=e7.length-1;e8<=e9;e8++)e6(e7[e8]);}
function bW(e4, e5, e6){ let e7;if(e6.parentNode===e4){ const e8=e6.nextSibling;let e9=ck(e8, null)?null:e8;e7=e5===e9;} else e7=false;if(!e7)e4.insertBefore(e6, e5);}
function bX(e4, e5){ if(e5.parentNode===e4)e4.removeChild(e5);}
function bY(e4){!bZ()?(b0(true),b1(globalThis.document.body, "")):void 0;b2().set_Item(e4, b3(""));}
function bZ(){ return c0.LocalTemplatesLoaded;}
function b0(e4){ c0.LocalTemplatesLoaded=e4;}
function b1(e4, e5){ const e6=b3(e5);const e7=new cD("New_5");const e8=e4.querySelectorAll("[ws-template]");for(let fi=0, fj=e8.length-1;fi<=fj;fi++){ const e9=e8[fi];const e_=e9.getAttribute("ws-template").toLowerCase();e9.removeAttribute("ws-template");e7.set_Item(e_, b4(e9));} const e$=e4.querySelectorAll("[ws-children-template]");for(let fk=0, fl=e$.length-1;fk<=fl;fk++){ const fa=e$[fk];const fb=fa.getAttribute("ws-children-template").toLowerCase();fa.removeAttribute("ws-children-template");e7.set_Item(fb, b5(fa));} const fc=e4.querySelectorAll("template[id]");for(let fm=0, fn=fc.length-1;fm<=fn;fm++){ const fd=fc[fm];e7.set_Item(fd.getAttribute("id").toLowerCase(), b6(fd));} const fe=e4.querySelectorAll("template[name]");for(let fo=0, fp=fe.length-1;fo<=fp;fo++){ const ff=fe[fo];e7.set_Item(ff.getAttribute("name").toLowerCase(), b6(ff));} const fg=new c5("New_3");function fh(fq){ if(!e6.ContainsKey(fq)){ let fr;const fs=(fr=null,[e7.TryGetValue(fq, {get:() => fr, set:(ft) => { fr=ft;}}), fr]);if(fs[0]){ fg.SAdd(fq);e7.RemoveKey(fq);b7(e5, m(fq), fs[1], m(fh));} else console.warn(fg.Contains(fq)?"Encountered loop when instantiating "+fq:"Local template does not exist: "+fq);} } while(e7.count>0)fh(c6(e7.Keys));}
function b2(){ return c0.LoadedTemplates;}
function b3(e4){ let e5;const e6=(e5=null,[b2().TryGetValue(e4, {get:() => e5, set:(e8) => { e5=e8;}}), e5]);if(e6[0])return e6[1];else { const e7=new cD("New_5");b2().set_Item(e4, e7);return e7;} }
function b4(e4){ e4.removeAttribute("ws-template");const e5=e4.getAttribute("ws-replace");if(e5==null){ } else { e4.removeAttribute("ws-replace");const e6=e4.parentNode;if(ck(e6, null)){ } else { const e7=globalThis.document.createElement(e4.tagName);e7.setAttribute("ws-replace", e5);e6.replaceChild(e7, e4);} } const e8=globalThis.document.createElement("div");e8.appendChild(e4);return e8;}
function b5(e4){ const e5=globalThis.document.createElement("div");while(e4.hasChildNodes())e5.appendChild(e4.firstChild);return e5;}
function b6(e4){ const e5=globalThis.document.createElement("div");const e6=e4.content;for(let e7=0, e8=e6.childNodes.length-1;e7<=e8;e7++)e5.appendChild(e6.childNodes[e7].cloneNode(true));return e5;}
function b7(e4, e5, e6, e7){ const e8=new c5("New_3");function e9(fe, ff){ while(true)switch(fe){ case 0:if(ff!==null){ const fg=ff.nextSibling;if(ck(ff.nodeType, Node.TEXT_NODE))dr(ff);else if(ck(ff.nodeType, Node.ELEMENT_NODE))e$(ff);ff=fg;} else return null;break;case 1:const fh=dz(ff.nodeName, m(3), null).toLowerCase();const fi=fh.indexOf(".");const fj=fi===-1?[e4, fh]:[dz(fh, null, m(fi-1)), dz(fh, m(fi+1), null)];const fk=fj[1];const fl=fj[0];if(fl!=""&&!b2().ContainsKey(fl))return ds(fk);else { if(fl==""&&e7!=null)e7.$0(fk);const fm=b2().Item(fl);if(!fm.ContainsKey(fk))return ds(fk);else { const fn=fm.Item(fk);const fo=fn.cloneNode(true);const fp=new c5("New_3");const fq=new cD("New_5");const fr=ff.attributes;for(let fB=0, fC=fr.length-1;fB<=fC;fB++){ const fs=fr.item(fB).name.toLowerCase();const ft=fr.item(fB).nodeValue;let fu=ft==""?fs:ft.toLowerCase();fq.set_Item(fs, fu);if(!fp.SAdd(fs))console.warn("Hole mapped twice", fs);} for(let fD=0, fE=ff.childNodes.length-1;fD<=fE;fD++){ const fv=ff.childNodes[fD];if(ck(fv.nodeType, Node.ELEMENT_NODE))if(!fp.SAdd(fv.nodeName.toLowerCase()))console.warn("Hole filled twice", fk);} const fw=ff.childNodes.length===1&&ck(ff.firstChild.nodeType, Node.TEXT_NODE);if(fw){ const fx=dt(fo, ff.firstChild.textContent, fk);const fy=((fF) =>(fG) => fF.SAdd(fG))(fp);let fz=((fF) =>(fG) => { if(fG!=null)fF(fG.$0);})((fF) => { fy(fF);});fz(fx);} du(fo, fp);if(!fw){ for(let fF=0, fG=ff.childNodes.length-1;fF<=fG;fF++){ const fA=ff.childNodes[fF];if(ck(fA.nodeType, Node.ELEMENT_NODE))if(fA.hasAttributes())dv(fo, fA);else e_(fo, fA);} } dw(fo, fq);dx(fo, ff.parentNode, ff);ff.parentNode.removeChild(ff);return;} } break;} } function e_(fe, ff){ const fg=ff.nodeName.toLowerCase();const fh=(fl, fm) => { if(fg=="title"&&ff.hasChildNodes()){ const fn=bP(ff.textContent);ff.removeChild(ff.firstChild);while(fn.hasChildNodes())ff.appendChild(fn.firstChild);} e$(ff);return dx(ff, fl, fm);};b8(fe, "[ws-attr-holes]", (fl) => { const fm=bk(fl.getAttribute("ws-attr-holes"), [" "], 1);for(let fq=0, fr=fm.length-1;fq<=fr;fq++){ const fn=c1(fm, fq);let fo=new RegExp("\\${"+fg+"}", "ig");let fp=fl.getAttribute(fn).replace(fo, ff.textContent);fl.setAttribute(fn, fp);} });const fi=fe.querySelector("[ws-hole="+fg+"]");if(ck(fi, null)){ const fj=fe.querySelector("[ws-replace="+fg+"]");if(ck(fj, null)){ const fk=fe.querySelector("slot[name="+fg+"]");return fe.tagName.toLowerCase()=="template"?(fh(fk.parentNode, fk),void fk.parentNode.removeChild(fk)):null;} else { fh(fj.parentNode, fj);fj.parentNode.removeChild(fj);return;} } else { while(fi.hasChildNodes())fi.removeChild(fi.lastChild);fi.removeAttribute("ws-hole");return fh(fi, null);} } function e$(fe){ if(!fe.hasAttribute("ws-preserve"))if(bh(fe.nodeName.toLowerCase(), "ws-"))fb(fe);else { dy(fe);fa(fe.firstChild);} } function fa(fe){ return e9(0, fe);} function fb(fe){ return e9(1, fe);} function fc(fe){ while(true){ const ff=fe.querySelector("[ws-template]");if(ck(ff, null)){ const fg=fe.querySelector("[ws-children-template]");if(ck(fg, null)){ const fh=fe.querySelectorAll("template[id]");for(let fn=1, fo=fh.length-1;fn<=fo;fn++){ const fi=fh[fn];if(e8.Contains(fi)){ } else { b7(e4, m(fi.getAttribute("id")), fi, null);e8.SAdd(fi);} } const fj=fe.querySelectorAll("template[name]");for(let fp=1, fq=fj.length-1;fp<=fq;fp++){ const fk=fj[fp];if(e8.Contains(fk)){ } else { b7(e4, m(fk.getAttribute("name")), fk, null);e8.SAdd(fk);} } return null;} else { const fl=fg.getAttribute("ws-children-template");fg.removeAttribute("ws-children-template");b7(e4, m(fl), fg, null);fe=fe;} } else { const fm=ff.getAttribute("ws-template");(b9(e4, m(fm), ff))(null);fe=fe;} } } const fd=(e5==null?"":e5.$0).toLowerCase();b3(e4).set_Item(fd, e6);if(e6.hasChildNodes()){ fc(e6);fa(e6.firstChild);} }
function b8(e4, e5, e6){ bV(e4, e5, (e7) => { if(e7.closest("[ws-preserve]")==null)e6(e7);});}
function b9(e4, e5, e6){ const e7=b4(e6);return(e8) => { b7(e4, e5, e7, e8);};}
function b_(){ return c0.TextHoleRE;}
function b$(){ ca(cb()+1);return cb();}
function ca(e4){ di.counter=e4;}
function cb(){ return di.counter;}
function cc(e4, e5){ return{$:2, $0:e4, $1:e5};}
function cd(e4){ return{$:0, $0:e4};}
function ce(e4, e5){ return{$:3, $0:e4, $1:e5};}
function cf(e4, e5){ return{k:e4, ct:e5};}
function cg(e4){ return{$:1, $0:e4};}
function ch(e4){ return{$:0, $0:e4};}
function ci(e4){ return{$:2, $0:e4};}
let cj=eZ((e4) => class e5 { static { cj=e4(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=cA(false, []);this.scheduler=new cF();this.defCTS=[new cG()];this.Zero=bc();this.GetCT=(e6) => { e6.k(ch(e6.ct));};} });
function ck(e4, e5){ if(e4===e5)return true;else { const e6=typeof e4;if(e6=="object"){ if(e4===null||e4===void 0||e5===null||e5===void 0||!ck(typeof e5, "object"))return false;else if("Equals"in e4)return e4.Equals(e5);else if("Equals"in e5)return false;else if(e4 instanceof Array&&e5 instanceof Array)return cl(e4, e5);else if(e4 instanceof Date&&e5 instanceof Date)return cm(e4, e5);else { const e7=[true];let e8;for(var e_ in e4)if(((e$) => { e7[0]=!e4.hasOwnProperty(e$)||e5.hasOwnProperty(e$)&&ck(e4[e$], e5[e$]);return!e7[0];})(e_))break;if(e7[0]){ let e9;for(var e$ in e5)if(((fa) => { e7[0]=!e5.hasOwnProperty(fa)||e4.hasOwnProperty(fa);return!e7[0];})(e$))break;} return e7[0];} } else return e6=="function"&&("$Func"in e4?e4.$Func===e5.$Func&&e4.$Target===e5.$Target:"$Invokes"in e4&&"$Invokes"in e5&&cl(e4.$Invokes, e5.$Invokes));} }
function cl(e4, e5){ let e6;let e7;if(c2(e4)===c2(e5)){ e6=true;e7=0;while(e6&&e7<c2(e4)){!ck(c1(e4, e7), c1(e5, e7))?e6=false:void 0;e7=e7+1;} return e6;} else return false;}
function cm(e4, e5){ return e4.getTime()===e5.getTime();}
function cn(e4){ const e5=typeof e4;return e5=="function"?0:e5=="boolean"?e4?1:0:e5=="number"?e4:e5=="string"?co(e4):e5=="object"?e4==null?0:e4 instanceof Array?cp(e4):cq(e4):0;}
function co(e4){ let e5;if(e4===null)return 0;else { e5=5381;for(let e6=0, e7=e4.length-1;e6<=e7;e6++)e5=cr(e5, e4[e6].charCodeAt());return e5;} }
function cp(e4){ let e5=-34948909;for(let e6=0, e7=c2(e4)-1;e6<=e7;e6++)e5=cr(e5, cn(c1(e4, e6)));return e5;}
function cq(e4){ if("GetHashCode"in e4)return e4.GetHashCode();else { const e5=[0];let e6;for(var e7 in e4)if(((e8) => { e5[0]=cr(cr(e5[0], co(e8)), cn(e4[e8]));return false;})(e7))break;return e5[0];} }
function cr(e4, e5){ return(e4<<5)+e4+e5;}
function cs(e4, e5){ if(e4===e5)return 0;else { const e6=typeof e4;switch(e6=="function"?1:e6=="boolean"?2:e6=="number"?2:e6=="string"?2:e6=="object"?3:0){ case 0:return typeof e5=="undefined"?0:-1;case 1:return i("Cannot compare function values.");case 2:return e4<e5?-1:1;case 3:if(e4===null)return -1;else if(e5===null)return 1;else if("CompareTo"in e4)return e4.CompareTo(e5);else if("CompareTo0"in e4)return e4.CompareTo0(e5);else if(e4 instanceof Array&&e5 instanceof Array)return ct(e4, e5);else if(e4 instanceof Date&&e5 instanceof Date)return cu(e4, e5);else { const e7=[0];let e8;for(var e_ in e4)if(((e$) =>!e4.hasOwnProperty(e$)?false:!e5.hasOwnProperty(e$)?(e7[0]=1,true):(e7[0]=cs(e4[e$], e5[e$]),e7[0]!==0))(e_))break;if(e7[0]===0){ let e9;for(var e$ in e5)if(((fa) =>!e5.hasOwnProperty(fa)?false:!e4.hasOwnProperty(fa)&&(e7[0]=-1,true))(e$))break;} return e7[0];} break;} } }
function ct(e4, e5){ let e6;let e7;if(c2(e4)<c2(e5))return -1;else if(c2(e4)>c2(e5))return 1;else { e6=0;e7=0;while(e6===0&&e7<c2(e4)){ e6=cs(c1(e4, e7), c1(e5, e7));e7=e7+1;} return e6;} }
function cu(e4, e5){ return cs(e4.getTime(), e5.getTime());}
function cv(e4){ return{$:5, $0:e4};}
function cw(e4){ return{$:2, $0:e4};}
function cx(e4){ return{$:1, $0:e4};}
function cy(e4, e5){ return{$:0, $0:e4, $1:e5};}
class cz extends g { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(e4){ return dO();} NGetEnterAnim(e4){ return dO();} NGetChangeAnim(e4){ return dO();} NSync(e4){ if(this.dirty){(this.push(e4))(this.value);this.dirty=false;} } constructor(e4, e5){ super();this.push=e5;this.value=void 0;this.dirty=false;this.updates=K((e6) => { this.value=e6;this.dirty=true;}, e4);} }
function cA(e4, e5){ return{c:e4, r:e5};}
function cB(e4){ let e5;const e6=e4.s;if(e6==null||(e6!=null&&e6.$==2?(e5=e6.$1,false):e6!=null&&e6.$==3?(e5=e6.$1,false):true))void 0;else { e4.s=null;for(let e8=0, e9=c2(e5)-1;e8<=e9;e8++){ const e7=c1(e5, e8);if(typeof e7=="object")(((e_) => { cB(e_);})(e7));else e7();} } }
class cC { }
class cD extends g { equals;hash;count;data;set_Item(e4, e5){ this.set(e4, e5);} ContainsKey(e4){ const e5=this.data[this.hash(e4)];return e5==null?false:v((e6) => this.equals.apply(null, [(j(e6))[0], e4]), e5);} TryGetValue(e4, e5){ const e6=this.data[this.hash(e4)];if(e6==null)return false;else { const e7=w((e8) => { const e9=j(e8);return this.equals.apply(null, [e9[0], e4])?m(e9[1]):null;}, e6);return e7!=null&&e7.$==1&&(e5.set(e7.$0),true);} } RemoveKey(e4){ return this.remove(e4);} get Keys(){ return new dH(this);} set(e4, e5){ const e6=this.hash(e4);const e7=this.data[e6];if(e7==null){ this.count=this.count+1;this.data[e6]=new Array({K:e4, V:e5});} else { const e8=x((e9) => this.equals.apply(null, [(j(e9))[0], e4]), e7);if(e8==null){ this.count=this.count+1;e7.push({K:e4, V:e5});} else e7[e8.$0]={K:e4, V:e5};} } remove(e4){ const e5=this.hash(e4);const e6=this.data[e5];if(e6==null)return false;else { const e7=z((e8) =>!this.equals.apply(null, [(j(e8))[0], e4]), e6);return c2(e7)<e6.length&&(this.count=this.count-1,this.data[e5]=e7,true);} } Item(e4){ return this.get(e4);} get(e4){ const e5=this.data[this.hash(e4)];return e5==null?dq():D((e6) => { const e7=j(e6);return this.equals.apply(null, [e7[0], e4])?m(e7[1]):null;}, e5);} GetEnumerator(){ return dD(G(t(this.data)));} static New_5(){ return new this("New_5");} static New_6(e4, e5, e6){ return new this("New_6", e4, e5, e6);} constructor(e4, e5, e6, e7){ if(e4=="New_5"){ e4="New_6";e5=[];e6=ck;e7=cn;} if(e4=="New_6"){ const e8=e5;const e9=e6;const e_=e7;super();this.equals=e9;this.hash=e_;this.count=0;this.data=[];const e$=dA(e8);try { while(e$.MoveNext()){ const fa=e$.Current;this.set(fa.K, fa.V);} } finally { if(typeof e$=="object"&&a(e$))e$.Dispose();} } } }
function cE(e4, e5){ return eN(e4, -2147483648, 2147483647, e5);}
class cF extends g { idle;robin;Fork(e4){ this.robin.push(e4);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const e4=Date.now();let e5=true;while(e5)if(this.robin.length===0){ this.idle=true;e5=false;} else {(this.robin.shift())();Date.now()-e4>40?(setTimeout(() => { this.tick();}, 0),e5=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
class cG extends g { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
function cH(){ return{Current:null, Dirty:false};}
function cI(e4, e5){ e4.Current=e5;e4.Dirty=true;}
function cJ(e4, e5){ cK(e4, e5, null);}
function cK(e4, e5, e6){ while(true){ if(e5!=null&&e5.$==1)return cP(e4, e5.$0.El, e6);else if(e5!=null&&e5.$==2){ const e7=e5.$0;e7.Dirty=false;e5=e7.Current;} else if(e5==null)return e6;else if(e5!=null&&e5.$==4)return cP(e4, e5.$0.Text, e6);else if(e5!=null&&e5.$==5)return cP(e4, e5.$0, e6);else if(e5!=null&&e5.$==6)return C((e_, e$) =>((((fa) =>(fb) =>(fc) => fb==null||fb.constructor===Object?cK(fa, fb, fc):cP(fa, fb, fc))(e4))(e_))(e$), e5.$0.Els, e6);else { const e8=e5.$1;const e9=e5.$0;e5=e9;e6=cK(e4, e8, e6);} } }
function cL(e4, e5){ return dU(dV(), cO(e4, by(), e5));}
function cM(e4, e5, e6){ if(dI()){ const e7=null;return u0036(() => { const e8=dW(e6);const e9=cT(e5, e8);const e_=cS(e5, e8);return u0038(dJ(dK(e9, cR(e5, e8))), () => u0038(cQ(e4, e5), () => u0038(dJ(e_), () => { e5.PreviousNodes=e8;return bc(null);})));});} else return cQ(e4, e5);}
function cN(e4, e5, e6){ const e7=dW(e6);cU(e4, e5.Top);e5.PreviousNodes=e7;}
function cO(e4, e5, e6){ cJ(e4, e6);const e7=bz(e4, e5);return cZ.New(e7, e6, null, e4, b$(), e1(e7.OnAfterRender));}
function cP(e4, e5, e6){ bW(e4, e6, e5);return e5;}
function cQ(e4, e5){ if(dP()){ const e6=(e7) => { requestAnimationFrame(() => { cU(e4, e5.Top);e7();});};return bb((e7, e8, e9) => e6.apply(null, [e7, e8, e9]));} else { cU(e4, e5.Top);return bc(null);} }
function cR(e4, e5){ return dN(A((e6) => bD(e6.Attr), d0(dZ(e5, dY((e6) => bC(e6.Attr), e4.PreviousNodes)))));}
function cS(e4, e5){ return dN(A((e6) => bF(e6.Attr), d0(dZ(e4.PreviousNodes, dY((e6) => bE(e6.Attr), e5)))));}
function cT(e4, e5){ const e6=(e8) => bG(e8.Attr);const e7=(e8) => dY(e6, e8);return dN(A((e8) => bH(e8.Attr), d0(d1(e7(e4.PreviousNodes), e7(e5)))));}
function cU(e4, e5){!e4?cV(e5):void 0;cW(e5.Children);cX(e5);}
function cV(e4){ function e5(e6){ function e7(e8){ while(true){ if(e8!=null&&e8.$==0){ const e9=e8.$1;const e_=e8.$0;if(e7(e_))return true;else e8=e9;} else if(e8!=null&&e8.$==2){ const e$=e8.$0;if(e$.Dirty)return true;else e8=e$.Current;} else if(e8!=null&&e8.$==6){ const fa=e8.$0;return fa.Dirty||v(e5, fa.Holes);} else return false;} } return e7(e6.Children);} bJ(e4.El, e4.Attr);if(e5(e4))cY(e4);}
function cW(e4){ while(true){ if(e4!=null&&e4.$==1)return cU(false, e4.$0);else if(e4!=null&&e4.$==2){ const e5=e4.$0;e4=e5.Current;} else if(e4==null)return null;else if(e4!=null&&e4.$==5)return null;else if(e4!=null&&e4.$==4){ const e6=e4.$0;return e6.Dirty?(e6.Text.nodeValue=e6.Value,e6.Dirty=false):null;} else if(e4!=null&&e4.$==6){ const e7=e4.$0;B((e_) => { cU(false, e_);}, e7.Holes);B((e_) => { bJ(e_[0], e_[1]);}, e7.Attrs);return cX(e7);} else { const e8=e4.$1;const e9=e4.$0;cW(e9);e4=e8;} } }
function cX(e4){ const e5=e1(e4.Render);if(e5!=null&&e5.$==1){ e5.$0(e4.El);e2(e4, "Render", null);} }
function cY(e4){ const e5=e4.El;function e6(e_, e$){ while(true){ if(e_!=null&&e_.$==1)return e_.$0.El;else if(e_!=null&&e_.$==2){ const fa=e_.$0;if(fa.Dirty){ fa.Dirty=false;return cK(e5, fa.Current, e$);} else e_=fa.Current;} else if(e_==null)return e$;else if(e_!=null&&e_.$==4)return e_.$0.Text;else if(e_!=null&&e_.$==5)return e_.$0;else if(e_!=null&&e_.$==6){ const fb=e_.$0;if(fb.Dirty)fb.Dirty=false;return C((fe, ff) => fe==null||fe.constructor===Object?e6(fe, ff):fe, fb.Els, e$);} else { const fc=e_.$1;const fd=e_.$0;e_=fd;e$=e6(fc, e$);} } } const e7=e4.El;eQ((e_) => { bX(e7, e_);}, eP(eR(e4), eO(e4.El, e1(e4.Delimiters))));let e8=e4.Children;const e9=e1(e4.Delimiters);e6(e8, e9!=null&&e9.$==1?e9.$0[1]:null);}
class cZ { Attr;Children;Delimiters;El;ElKey;Render;Equals(e4){ return this.ElKey===e4.ElKey;} GetHashCode(){ return this.ElKey;} static New(e4, e5, e6, e7, e8, e9){ const e_={Attr:e4, Children:e5, El:e7, ElKey:e8};let e$=(e2(e_, "Delimiters", e6),e2(e_, "Render", e9),e_);return e0(cZ, e$);} }
let c0=eZ((e4) => class e5 { static { c0=e4(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new cD("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new cD("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function c1(e4, e5){ c3(e4, e5);return e4[e5];}
function c2(e4){ return e4.dims===2?e4.length*e4.length:e4.length;}
function c3(e4, e5){ if(e5<0||e5>=e4.length)i("Index was outside the bounds of the array.");}
function c4(e4, e5, e6){ c3(e4, e5);e4[e5]=e6;}
class c5 extends g { equals;hash;data;count;SAdd(e4){ return this.add(e4);} Contains(e4){ const e5=this.data[this.hash(e4)];return e5==null?false:this.arrContains(e4, e5);} add(e4){ const e5=this.hash(e4);const e6=this.data[e5];return e6==null?(this.data[e5]=[e4],this.count=this.count+1,true):this.arrContains(e4, e6)?false:(e6.push(e4),this.count=this.count+1,true);} arrContains(e4, e5){ let e6=true;let e7=0;const e8=e5.length;while(e6&&e7<e8)if(this.equals.apply(null, [e5[e7], e4]))e6=false;else e7=e7+1;return!e6;} GetEnumerator(){ return dA(eK(this.data));} ExceptWith(e4){ const e5=dA(e4);try { while(e5.MoveNext())this.Remove(e5.Current);} finally { if(typeof e5=="object"&&a(e5))e5.Dispose();} } get Count(){ return this.count;} IntersectWith(e4){ const e5=new c5("New_4", e4, this.equals, this.hash);const e6=eK(this.data);for(let e8=0, e9=e6.length-1;e8<=e9;e8++){ const e7=e6[e8];if(!e5.Contains(e7))this.Remove(e7);} } Remove(e4){ const e5=this.data[this.hash(e4)];return e5==null?false:this.arrRemove(e4, e5)&&(this.count=this.count-1,true);} CopyTo(e4, e5){ const e6=eK(this.data);for(let e7=0, e8=e6.length-1;e7<=e8;e7++)c4(e4, e7+e5, e6[e7]);} arrRemove(e4, e5){ let e6=true;let e7=0;const e8=e5.length;while(e6&&e7<e8)if(this.equals.apply(null, [e5[e7], e4])){ e5.splice(e7, 1);e6=false;} else e7=e7+1;return!e6;} static New_3(){ return new this("New_3");} static New_4(e4, e5, e6){ return new this("New_4", e4, e5, e6);} static New_2(e4){ return new this("New_2", e4);} constructor(e4, e5, e6, e7){ if(e4=="New_3"){ e4="New_4";e5=[];e6=ck;e7=cn;} let e8;if(e4=="New_2"){ e8=e5;e4="New_4";e5=e8;e6=ck;e7=cn;} if(e4=="New_4"){ const e9=e5;const e_=e6;const e$=e7;super();this.equals=e_;this.hash=e$;this.data=[];this.count=0;const fa=dA(e9);try { while(fa.MoveNext())this.add(fa.Current);} finally { if(typeof fa=="object"&&a(fa))fa.Dispose();} } } }
function c6(e4){ const e5=dA(e4);try { return e5.MoveNext()?e5.Current:dE();} finally { if(typeof e5=="object"&&a(e5))e5.Dispose();} }
function c7(e4, e5, e6){ let e7=e5;const e8=dA(e6);try { while(e8.MoveNext())e7=e4(e7, e8.Current);return e7;} finally { if(typeof e8=="object"&&a(e8))e8.Dispose();} }
function c8(e4, e5){ const e6=dA(e5);try { while(e6.MoveNext())e4(e6.Current);} finally { if(typeof e6=="object"&&a(e6))e6.Dispose();} }
function c9(e4){ return{GetEnumerator:() => dA(e4())};}
function c_(e4, e5){ return da(c$(e4, e5));}
function c$(e4, e5){ return{GetEnumerator:() => { const e6=dA(e5);return new ee(null, null, (e7) => e6.MoveNext()&&(e7.c=e4(e6.Current),true), () => { e6.Dispose();});}};}
function da(e4){ return{GetEnumerator:() => { const e5=dA(e4);function e6(e7){ while(true){ const e8=e7.s;if(ck(e8, null)){ if(e5.MoveNext()){ e7.s=dA(e5.Current);e7=e7;} else { e5.Dispose();return false;} } else if(e8.MoveNext()){ e7.c=e8.Current;return true;} else { e7.Dispose();e7.s=null;e7=e7;} } } return new ee(null, null, e6, (e7) => { const e8=e7.s;if(!ck(e8, null))e8.Dispose();if(!ck(e5, null))e5.Dispose();});}};}
function db(e4, e5){ return dd(e4, de(e5));}
function dc(e4){ const e5=dA(e4);try { if(!e5.MoveNext())dg();let e6=e5.Current;while(e5.MoveNext()){ const e7=e5.Current;if(cs(e7, e6)===1)e6=e7;} return e6;} finally { if(typeof e5=="object"&&a(e5))e5.Dispose();} }
function dd(e4, e5){ e4<0?dG():void 0;return{GetEnumerator:() => { const e6=[dA(e5)];return new ee(0, null, (e7) => { e7.s=e7.s+1;if(e7.s>e4)return false;else { const e8=e6[0];return ck(e8, null)?dE():e8.MoveNext()?(e7.c=e8.Current,e7.s===e4?(e8.Dispose(),e6[0]=null):void 0,true):(e8.Dispose(),e6[0]=null,dE());} }, () => { const e7=e6[0];if(!ck(e7, null))e7.Dispose();});}};}
function de(e4){ return{GetEnumerator:() => new ee(0, null, (e5) => { e5.c=e4(e5.s);e5.s=e5.s+1;return true;}, void 0)};}
function df(e4, e5){ return!dh((e6) =>!e4(e6), e5);}
function dg(){ return i("The input sequence was empty.");}
function dh(e4, e5){ const e6=dA(e5);try { let e7=false;while(!e7&&e6.MoveNext())e7=e4(e6.Current);return e7;} finally { if(typeof e6=="object"&&a(e6))e6.Dispose();} }
let di=eZ((e4) => class e5 { static { di=e4(this);} static counter;static { this.counter=0;} });
class dj extends Error { ct;static New(e4){ return new this("New", e4);} static New_1(e4, e5, e6){ return new this("New_1", e4, e5, e6);} constructor(e4, e5, e6, e7){ let e8;if(e4=="New"){ e8=e5;e4="New_1";e5="The operation was canceled.";e6=null;e7=e8;} if(e4=="New_1"){ const e9=e5;const e_=e6;const e$=e7;super(e9);this.inner=e_;this.ct=e$;} } }
class dk extends R { docNode_1;updates_1;elt;rvUpdates;static New(e4, e5, e6){ const e7=cO(e4, e5, e6.docNode);const e8=dR.Create(e6.updates);return new dk(cx(e7), Q(bw(e7.Attr), e8.v), e4, e8);} constructor(e4, e5, e6, e7){ super(e4, e5);this.docNode_1=e4;this.updates_1=e5;this.elt=e6;this.rvUpdates=e7;} }
function dl(e4){ if(e4 instanceof Array)return e4;else if(e4 instanceof dS)return y(e4);else if(e4===null)return[];else { const e5=[];const e6=dA(e4);try { while(e6.MoveNext())e5.push(e6.Current);return e5;} finally { if(typeof e6=="object"&&a(e6))e6.Dispose();} } }
function dm(e4, e5, e6){ const e7=c2(e6);function e8(e9){ return(e_) => { let e$;switch(e_<=0?0:e_===1?e9>=0&&e9<e7?1:(e$=e_,2):(e$=e_,2)){ case 0:return e4;case 1:return c1(e6, e9);case 2:const fa=e_/2>>0;return e5((e8(e9))(fa), (e8(e9+fa))(e_-fa));} };} return(e8(0))(e7);}
function dn(e4, e5, e6, e7){ const e8=c2(e7);function e9(e_){ return(e$) => { let fa;switch(e$<=0?0:e$===1?e_>=0&&e_<e8?1:(fa=e$,2):(fa=e$,2)){ case 0:return e5;case 1:return e4(c1(e7, e_));case 2:const fb=e$/2>>0;return e6((e9(e_))(fb), (e9(e_+fb))(e$-fb));} };} return(e9(0))(e8);}
function do_1(e4, e5, e6, e7){ const e8={DynElem:e4, DynFlags:e5, DynNodes:e6};e2(e8, "OnAfterRender", e7);return e8;}
class dp extends g { }
function dq(){ throw new eE("New");}
function dr(e4){ let e5=null;let e6=0;const e7=e4.textContent;const e8=new RegExp(b_(), "g");while(e5=e8.exec(e7),e5!==null){ e4.parentNode.insertBefore(globalThis.document.createTextNode(dz(e7, m(e6), m(e8.lastIndex-c1(e5, 0).length-1))), e4);e6=e8.lastIndex;const e9=globalThis.document.createElement("span");e9.setAttribute("ws-replace", c1(e5, 1).toLowerCase());e4.parentNode.insertBefore(e9, e4);} e8.lastIndex=0;e4.textContent=dz(e7, m(e6), null);}
function ds(e4){ console.warn("Instantiating non-loaded template", e4);}
function dt(e4, e5, e6){ const e7=e4.querySelector("[ws-replace]");return ck(e7, null)?(console.warn("Filling non-existent text hole", e6),null):(e7.parentNode.replaceChild(globalThis.document.createTextNode(e5), e7),m(e7.getAttribute("ws-replace")));}
function du(e4, e5){ const e6=(e7) => { b8(e4, "["+e7+"]", (e8) => { if(!e5.Contains(e8.getAttribute(e7)))e8.removeAttribute(e7);});};e6("ws-attr");e6("ws-onafterrender");e6("ws-var");b8(e4, "[ws-hole]", (e7) => { if(!e5.Contains(e7.getAttribute("ws-hole"))){ e7.removeAttribute("ws-hole");while(e7.hasChildNodes())e7.removeChild(e7.lastChild);} });b8(e4, "[ws-replace]", (e7) => { if(!e5.Contains(e7.getAttribute("ws-replace")))e7.parentNode.removeChild(e7);});b8(e4, "[ws-on]", (e7) => { e7.setAttribute("ws-on", bj(" ", z((e8) => e5.Contains(c1(bk(e8, [":"], 1), 1)), bk(e7.getAttribute("ws-on"), [" "], 1))));});b8(e4, "[ws-attr-holes]", (e7) => { const e8=bk(e7.getAttribute("ws-attr-holes"), [" "], 1);for(let fa=0, fb=e8.length-1;fa<=fb;fa++){ const e9=c1(e8, fa);let e_=new RegExp(b_(), "g");let e$=e7.getAttribute(e9).replace(e_, (fc, fd) => e5.Contains(fd)?fc:"");e7.setAttribute(e9, e$);} });}
function dv(e4, e5){ dy(e5);const e6=e5.nodeName.toLowerCase();const e7=e4.querySelector("[ws-attr="+e6+"]");if(ck(e7, null))console.warn("Filling non-existent attr hole", e6);else { e7.removeAttribute("ws-attr");for(let e9=0, e_=e5.attributes.length-1;e9<=e_;e9++){ const e8=e5.attributes.item(e9);if(e8.name=="class"&&e7.hasAttribute("class"))e7.setAttribute("class", e7.getAttribute("class")+" "+e8.nodeValue);else e7.setAttribute(e8.name, e8.nodeValue);} } }
function dw(e4, e5){ const e6=(e7) => { b8(e4, "["+e7+"]", (e8) => { let e9;const e_=(e9=null,[e5.TryGetValue(e8.getAttribute(e7).toLowerCase(), {get:() => e9, set:(e$) => { e9=e$;}}), e9]);if(e_[0])e8.setAttribute(e7, e_[1]);});};e6("ws-hole");e6("ws-replace");e6("ws-attr");e6("ws-onafterrender");e6("ws-var");b8(e4, "[ws-on]", (e7) => { e7.setAttribute("ws-on", bj(" ", A((e8) => { let e9;const e_=bk(e8, [":"], 1);const e$=(e9=null,[e5.TryGetValue(c1(e_, 1), {get:() => e9, set:(fa) => { e9=fa;}}), e9]);return e$[0]?c1(e_, 0)+":"+e$[1]:e8;}, bk(e7.getAttribute("ws-on"), [" "], 1))));});b8(e4, "[ws-attr-holes]", (e7) => { const e8=bk(e7.getAttribute("ws-attr-holes"), [" "], 1);for(let e9=0, e_=e8.length-1;e9<=e_;e9++)((() => { const e$=c1(e8, e9);return e7.setAttribute(e$, c7((fa, fb) => { const fc=j(fb);return fa.replace(new RegExp("\\${"+fc[0]+"}", "ig"), "${"+fc[1]+"}");}, e7.getAttribute(e$), e5));})());});}
function dx(e4, e5, e6){ while(true){ if(e4.hasChildNodes())e6=e5.insertBefore(e4.lastChild, e6);else return null;} }
function dy(e4){ const e5=e4.attributes;const e6=[];const e7=[];const e8=[];for(let fb=0, fc=e5.length-1;fb<=fc;fb++){ const e9=e5.item(fb);if(bh(e9.nodeName, "ws-on")&&e9.nodeName!="ws-onafterrender"&&e9.nodeName!="ws-on"){ e6.push(e9.nodeName);e7.push(dz(e9.nodeName, m("ws-on".length), null)+":"+e9.nodeValue.toLowerCase());} else if(!bh(e9.nodeName, "ws-")&&(new RegExp(b_())).test(e9.nodeValue)){ let e_=new RegExp(b_(), "g");let e$=e9.nodeValue.replace(e_, (fd, fe) =>"${"+fe.toLowerCase()+"}");e9.nodeValue=e$;e8.push(e9.nodeName);} else void 0;} if(!(e7.length==0))e4.setAttribute("ws-on", bj(" ", e7));if(!(e8.length==0))e4.setAttribute("ws-attr-holes", bj(" ", e8));const fa=(fd) => { const fe=e4.getAttribute(fd);if(fe==null){ } else e4.setAttribute(fd, fe.toLowerCase());};fa("ws-hole");fa("ws-replace");fa("ws-attr");fa("ws-onafterrender");fa("ws-var");B((fd) => { e4.removeAttribute(fd);}, e6);}
function dz(e4, e5, e6){ if(e5==null){ if(e6!=null&&e6.$==1){ const e7=e6.$0;return e7<0?"":e4.slice(0, e7+1);} else return"";} else if(e6==null)return e4.slice(e5.$0);else { const e8=e6.$0;return e8<0?"":e4.slice(e5.$0, e8+1);} }
function dA(e4){ return e4 instanceof Array?dB(e4):ck(typeof e4, "string")?dC(e4):e4.GetEnumerator();}
function dB(e4){ return new ee(0, null, (e5) => { const e6=e5.s;return e6<c2(e4)&&(e5.c=c1(e4, e6),e5.s=e6+1,true);}, void 0);}
function dC(e4){ return new ee(0, null, (e5) => { const e6=e5.s;return e6<e4.length&&(e5.c=e4[e6],e5.s=e6+1,true);}, void 0);}
function dD(e4){ return e4 instanceof Array?dB(e4):ck(typeof e4, "string")?dC(e4):"GetEnumerator0"in e4?e4.GetEnumerator0():e4.GetEnumerator();}
function dE(){ return i("The input sequence has an insufficient number of elements.");}
function dF(e4, e5){ let e6=true;let e7=0;while(e6&&e7<c2(e5))if(ck(e5[e7], e4))e6=false;else e7=e7+1;return!e6;}
function dG(){ return i("The input must be non-negative.");}
class dH extends g { d;GetEnumerator(){ return dA(c$((e4) => e4.K, this.d));} constructor(e4){ super();this.d=e4;} }
function dI(){ return d2();}
function dJ(e4){ const e5=null;return u0036(() => u0038(dL(() => { }, d3(e4)), () => { d4(e4);return bc(null);}));}
function dK(e4, e5){ return dM(eg(e4.$0, e5.$0));}
function dL(e4, e5){ const e6=e5.Duration;if(e6===0)return u0037();else { const e7=(e8) => { function e9(e_){ return(e$) => { const fa=e$-e_;e5.Compute(fa);e4();return fa<=e6?void requestAnimationFrame((fb) => {(e9(e_))(fb);}):e8();};} requestAnimationFrame((e_) => {(e9(e_))(e_);});};return bb((e8, e9, e_) => e7.apply(null, [e8, e9, e_]));} }
function dM(e4){ return{$:0, $0:e4};}
function dN(e4){ return dM(ei(c$(d6, e4)));}
function dO(){ return dM(ej());}
function dP(){ return d_.BatchUpdatesEnabled;}
function dQ(e4){ const e5=[0];function e6(){ const e7=null;return u0036(() => u0038(e4, () => { const e8=e5[0];return ck(e8, 1)?(e5[0]=0,u0037()):ck(e8, 2)?(e5[0]=1,e6()):u0037();}));} return() => { const e7=e5[0];if(ck(e7, 0)){ e5[0]=1;$(e6(), null);} else ck(e7, 1)?e5[0]=2:void 0;};}
class dR { c;s;v;static Create(e4){ let e5;e5=null;e5=dR.New(e4, null, () => { let e6;e6=e5.s;return e6===null?(e6=u0032(e5.c()),e5.s=e6,U(e6, () => { e5.s=null;}),e6):e6;});return e5;} static New(e4, e5, e6){ return e0(dR, {c:e4, s:e5, v:e6});} }
class dS { GetEnumerator(){ return new ee(this, null, (e4) => { const e5=e4.s;return e5.$==0?false:(e4.c=e5.$0,e4.s=e5.$1,true);}, void 0);} }
function dT(e4){ e4.splice(0, c2(e4));}
function dU(e4, e5){ return{PreviousNodes:e4, Top:e5};}
function dV(){ return dX(new c5("New_3"));}
function dW(e4){ const e5=[];function e6(e9, e_){ while(true)switch(e9){ case 0:if(e_!=null&&e_.$==0){ const e$=e_.$1;const fa=e_.$0;e6(0, fa);e_=e$;} else if(e_!=null&&e_.$==1){ const fb=e_.$0;e_=fb;e9=1;} else if(e_!=null&&e_.$==2){ const fc=e_.$0;e_=fc.Current;} else if(e_!=null&&e_.$==6){ const fd=e_.$0.Holes;return(((fe) =>(ff) => { B(fe, ff);})(e8))(fd);} else return null;break;case 1:e5.push(e_);e_=e_.Children;e9=0;break;} } function e7(e9){ return e6(0, e9);} function e8(e9){ return e6(1, e9);} e7(e4);return dX(new c5("New_2", e5));}
function dX(e4){ return{$:0, $0:e4};}
function dY(e4, e5){ return dX(eG(e4, e5.$0));}
function dZ(e4, e5){ return dX(eH(e4.$0, e5.$0));}
function d0(e4){ return eI(e4.$0);}
function d1(e4, e5){ return dX(eJ(e4.$0, e5.$0));}
function d2(){ return ef.UseAnimations;}
function d3(e4){ return d5(F((e5) => e5.$==1?m(e5.$0):null, eh(e4.$0)));}
function d4(e4){ B((e5) => { if(e5.$==0)e5.$0();}, eh(e4.$0));}
function d5(e4){ const e5=dl(e4);const e6=c2(e5);if(e6===0)return d7();else if(e6===1)return c1(e5, 0);else { const e7=dc(c$((e9) => e9.Duration, e5));const e8=A((e9) => d9(e7, e9), e5);return d8(e7, (e9) => { B((e_) => { e_.Compute(e9);}, e8);});} }
function d6(e4){ return e4.$0;}
function d7(e4){ return d8(0, () => e4);}
function d8(e4, e5){ return{Compute:e5, Duration:e4};}
function d9(e4, e5){ const e6=e5.Compute;const e7=e5.Duration;const e8=eT(() => e5.Compute(e5.Duration));return{Compute:(e9) => e9>=e7?e8.f():e6(e9), Duration:e4};}
let d_=eZ((e4) => class e5 { static { d_=e4(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function d$(e4){ return e4.$==1?e4.$0:eb();}
function ea(e4){ return e4.$==1?e4.$1:eb();}
function eb(){ return i("The input list was empty.");}
let ec=eZ((e4) => class e5 { static { ec=e4(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(fk) =>[(fl) => { fl.addEventListener("change", () => fk.Get()!=fl.checked?fk.Set(fl.checked):null);}, (fl) =>(fm) => fm!=null&&fm.$==1?void(fl.checked=fm.$0):null, K(m, fk.View)];this.StringSet=(fk) =>(fl) => { fk.value=fl;};this.StringGet=(fk) => m(fk.value);const e6=em();const e7=el();this.StringApply=(fk) => ek(e6, e7, fk);this.StringListSet=(fk) =>(fl) => { const fm=fk.options;for(let fn=0, fo=fm.length-1;fn<=fo;fn++)((() => { const fp=fm.item(fn);fp.selected=dF(fp.value, fl);})());};this.StringListGet=(fk) => { const fl=fk.selectedOptions;return m(E(c9(() => c_((fm) =>[fl.item(fm).value], k(0, fl.length-1)))));};const e8=eo();const e9=en();this.StringListApply=(fk) => ek(e8, e9, fk);this.DateTimeSetUnchecked=(fk) =>(fl) => { fk.value=(new Date(fl)).toLocaleString();};this.DateTimeGetUnchecked=(fk) => { let fl;let fm;const fn=fk.value;if(eC(fn))return m(-8640000000000000);else { fl=0;const fo=eM(fn);let fp=fo!=null&&fo.$==1&&(fl=fo.$0,true);fm=[fp, fl];return fm[0]?m(fm[1]):null;} };const e_=eq();const e$=ep();this.DateTimeApplyUnchecked=(fk) => ek(e_, e$, fk);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(fk) => { const fl=fk.files;return m(E(c9(() => c$((fm) => fl.item(fm), k(0, fl.length-1)))));};const fa=et();const fb=es();this.FileApplyUnchecked=(fk) => er(fa, fb, fk);this.IntSetUnchecked=(fk) =>(fl) => { fk.value=String(fl);};this.IntGetUnchecked=(fk) => { const fl=fk.value;if(eC(fl))return m(0);else { const fm=+fl;return fm!==fm>>0?null:m(fm);} };const fc=ev();const fd=eu();this.IntApplyUnchecked=(fk) => ek(fc, fd, fk);this.IntSetChecked=(fk) =>(fl) => { const fm=fl.Input;return fk.value!=fm?void(fk.value=fm):null;};this.IntGetChecked=(fk) => { let fl;let fm;const fn=fk.value;if(eC(fn))fl=(fk.checkValidity?fk.checkValidity():true)?eD.Blank(fn):eD.Invalid(fn);else { const fo=(fm=0,[cE(fn, {get:() => fm, set:(fp) => { fm=fp;}}), fm]);fl=fo[0]?eD.Valid(fo[1], fn):eD.Invalid(fn);} return m(fl);};const fe=ex();const ff=ew();this.IntApplyChecked=(fk) => ek(fe, ff, fk);this.FloatSetUnchecked=(fk) =>(fl) => { fk.value=String(fl);};this.FloatGetUnchecked=(fk) => { const fl=fk.value;if(eC(fl))return m(0);else { const fm=+fl;return isNaN(fm)?null:m(fm);} };const fg=ez();const fh=ey();this.FloatApplyUnchecked=(fk) => ek(fg, fh, fk);this.FloatSetChecked=(fk) =>(fl) => { const fm=fl.Input;return fk.value!=fm?void(fk.value=fm):null;};this.FloatGetChecked=(fk) => { let fl;const fm=fk.value;if(eC(fm))fl=(fk.checkValidity?fk.checkValidity():true)?eD.Blank(fm):eD.Invalid(fm);else { const fn=+fm;fl=isNaN(fn)?eD.Invalid(fm):eD.Valid(fn, fm);} return m(fl);};const fi=eB();const fj=eA();this.FloatApplyChecked=(fk) => ek(fi, fj, fk);} });
let ed=eZ((e4) => class e5 { static { ed=e4(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const e6=[1, "<table>", "</table>"];let e7=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", e6], ["tbody", e6], ["tfoot", e6], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=e7;this.defaultWrap=[0, "", ""];} });
class ee extends g { s;c;n;d;e;MoveNext(){ const e4=this.n(this);this.e=e4?1:2;return e4;} get Current(){ return this.e===1?this.c:this.e===0?i("Enumeration has not started. Call MoveNext."):i("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(e4, e5, e6, e7){ super();this.s=e4;this.c=e5;this.n=e6;this.d=e7;this.e=0;} }
let ef=eZ((e4) => class e5 { static { ef=e4(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=eF.Custom((e6) => { const e7=e6*e6;return 3*e7-2*(e7*e6);});this.UseAnimations=true;} });
function eg(e4, e5){ return e4.$==0?e5:e5.$==0?e4:{$:2, $0:e4, $1:e5};}
function eh(e4){ const e5=[];function e6(e7){ while(true){ if(e7.$==1)return e5.push(e7.$0);else if(e7.$==2){ const e8=e7.$1;const e9=e7.$0;e6(e9);e7=e8;} else return e7.$==3?B((e_) => { e5.push(e_);}, e7.$0):null;} } e6(e4);return e5.slice(0);}
function ei(e4){ const e5=dl(e4);return dm(ej(), eg, e5);}
function ej(){ return eW.Empty;}
function ek(e4, e5, e6){ let e7;e7=null;return[(e8) => { const e9=() => { e6.UpdateMaybe((e_) => { let e$;e7=e4(e8);return e7!=null&&e7.$==1&&(!ck(e7.$0, e_)&&(e$=[e7, e7.$0],true))?e$[0]:null;});};e8.addEventListener("change", e9);e8.addEventListener("input", e9);e8.addEventListener("keypress", e9);}, (e8) => { const e9=e5(e8);return(e_) => e_==null?null:e9(e_.$0);}, K((e8) => { let e9;return e7!=null&&e7.$==1&&(ck(e7.$0, e8)&&(e9=e7.$0,true))?null:m(e8);}, e6.View)];}
function el(){ return ec.StringSet;}
function em(){ return ec.StringGet;}
function en(){ return ec.StringListSet;}
function eo(){ return ec.StringListGet;}
function ep(){ return ec.DateTimeSetUnchecked;}
function eq(){ return ec.DateTimeGetUnchecked;}
function er(e4, e5, e6){ let e7;e7=null;return[(e8) => { e8.addEventListener("change", () => { e6.UpdateMaybe((e9) => { let e_;e7=e4(e8);return e7!=null&&e7.$==1&&(e7.$0!==e9&&(e_=[e7, e7.$0],true))?e_[0]:null;});});}, (e8) => { const e9=e5(e8);return(e_) => e_==null?null:e9(e_.$0);}, K((e8) => { let e9;return e7!=null&&e7.$==1&&(ck(e7.$0, e8)&&(e9=e7.$0,true))?null:m(e8);}, e6.View)];}
function es(){ return ec.FileSetUnchecked;}
function et(){ return ec.FileGetUnchecked;}
function eu(){ return ec.IntSetUnchecked;}
function ev(){ return ec.IntGetUnchecked;}
function ew(){ return ec.IntSetChecked;}
function ex(){ return ec.IntGetChecked;}
function ey(){ return ec.FloatSetUnchecked;}
function ez(){ return ec.FloatGetUnchecked;}
function eA(){ return ec.FloatSetChecked;}
function eB(){ return ec.FloatGetChecked;}
function eC(e4){ return bo(eL, e4);}
class eD { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(e4){ return e0(eD, {$:2, $0:e4});} static Invalid(e4){ return e0(eD, {$:1, $0:e4});} static Valid(e4, e5){ return e0(eD, {$:0, $0:e4, $1:e5});} }
class eE extends Error { static New(){ return new this("New");} static New_1(e4){ return new this("New_1", e4);} constructor(e4, e5){ if(e4=="New"){ e4="New_1";e5="The given key was not present in the dictionary.";} if(e4=="New_1"){ const e6=e5;super(e6);} } }
class eF extends g { transformTime;static Custom(e4){ return new eF(e4);} constructor(e4){ super();this.transformTime=e4;} }
function eG(e4, e5){ return new c5("New_2", z(e4, eI(e5)));}
function eH(e4, e5){ const e6=new c5("New_2", eI(e5));e6.ExceptWith(eI(e4));return e6;}
function eI(e4){ const e5=H(e4.Count, void 0);e4.CopyTo(e5, 0);return e5;}
function eJ(e4, e5){ const e6=new c5("New_2", eI(e4));e6.IntersectWith(eI(e5));return e6;}
function eK(e4){ let e5=[];let e6;for(var e7 in e4)e5.push.apply(e5, e4[e7]);return e5;}
function eL(e4){ return e4.match(new RegExp("\\s"))!==null;}
function eM(e4){ const e5=Date.parse(e4);return isNaN(e5)?null:m(e5);}
function eN(e4, e5, e6, e7){ const e8=+e4;const e9=e8===e8-e8%1&&e8>=e5&&e8<=e6;if(e9)e7.set(e8);return e9;}
function eO(e4, e5){ let e6;if(e5!=null&&e5.$==1){ const e7=[];e6=e5.$0[0].nextSibling;while(e6!==e5.$0[1]){ e7.push(e6);e6=e6.nextSibling;} return eS(e7);} else { let e8=e4.childNodes.length;const e9=e4.childNodes;let e_=I(e8, (e$) => e9[e$]);return eS(e_);} }
function eP(e4, e5){ const e6=e4.$0;return eS(z((e7) => J((e8) =>!(e7===e8), e6), e5.$0));}
function eQ(e4, e5){ B(e4, e5.$0);}
function eR(e4){ const e5=[];function e6(e7){ while(true){ if(e7!=null&&e7.$==2){ const e8=e7.$0;e7=e8.Current;} else if(e7!=null&&e7.$==1)return e5.push(e7.$0.El);else if(e7==null)return null;else if(e7!=null&&e7.$==5)return e5.push(e7.$0);else if(e7!=null&&e7.$==4)return e5.push(e7.$0.Text);else if(e7!=null&&e7.$==6){ const e9=e7.$0.Els;return(((fa) =>(fb) => { B(fa, fb);})((fa) => { if(fa==null||fa.constructor===Object)e6(fa);else e5.push(fa);}))(e9);} else { const e_=e7.$1;const e$=e7.$0;e6(e$);e7=e_;} } } e6(e4.Children);return eS(dl(e5));}
function eS(e4){ return{$:0, $0:e4};}
function eT(e4){ return eX(false, e4, eU);}
function eU(){ const e4=this.v();this.c=true;this.v=e4;this.f=eV;return e4;}
function eV(){ return this.v;}
let eW=eZ((e4) => class e5 { static { eW=e4(this);} static Empty;static { this.Empty={$:0};} });
function eX(e4, e5, e6){ return{c:e4, v:e5, f:e6};}
e3(() => { b();});
eY();

